import{_ as d}from"./plugin-vue_export-helper-c27b6911.js";import{r as t,o as i,c as l,d as n,e as a,b as o,a as s}from"./app-6b854282.js";const r={},c=s('<h1 id="mongo-安装教程" tabindex="-1"><a class="header-anchor" href="#mongo-安装教程" aria-hidden="true">#</a> Mongo 安装教程</h1><blockquote><p>本文介绍 mongodb 的安装，使用的版本是 <em>5.0.2</em></p></blockquote><table><thead><tr><th>框架</th><th>版本</th></tr></thead><tbody><tr><td><strong>mongodb</strong></td><td><em>5.0.2</em></td></tr></tbody></table><h2 id="mongodb-下载" tabindex="-1"><a class="header-anchor" href="#mongodb-下载" aria-hidden="true">#</a> mongodb 下载</h2>',4),p={href:"https://www.mongodb.com/download-center/community",target:"_blank",rel:"noopener noreferrer"},u=n("em",null,"Version",-1),m=s(`<blockquote><p><em>注意：在 MongoDB 2.2 版本后已经不再支持 Windows XP 系统。最新版本也已经没有了 32 位系统的安装文件。</em></p></blockquote><figure><img src="https://media.zenghr.cn/blog/img/20210827/XKWaYw.png" alt="XKWaYw" tabindex="0" loading="lazy"><figcaption>XKWaYw</figcaption></figure><h2 id="window-平台的安装" tabindex="-1"><a class="header-anchor" href="#window-平台的安装" aria-hidden="true">#</a> window 平台的安装</h2><p>下载 .msi 文件，下载后双击该文件，按操作提示安装即可</p><p>安装过程中，你可以通过点击 &quot;Custom(自定义)&quot; 按钮来设置你的安装目录</p><img src="https://media.zenghr.cn/blog/img/20210827/yzrPZC.png" alt="yzrPZC" style="zoom:50%;"><p>自定义完安装目录后，我们直接一直 next</p><p>这里安装 <strong>&quot;Install MongoDB Compass&quot;</strong> 不勾选，否则可能要很长时间都一直在执行安装，MongoDB Compass是一个图形界面管理工具，这里不安装也是没有问题的，可以自己去下载一个图形界面管理工具</p><p>之后稍微等待一会就安装好了</p><h3 id="配置mongodb" tabindex="-1"><a class="header-anchor" href="#配置mongodb" aria-hidden="true">#</a> 配置MongoDB</h3><p>MongoDB的安装过程是很简单的，但是配置就比较麻烦了，可能会遇到各种各样的问题，需要你有足够的耐心和仔细。</p><p>首先要在MongoDB的data文件夹里新建一个 <em><strong>db文件夹</strong></em> 和一个 <em><strong>log文件夹</strong></em> ：</p><img src="https://media.zenghr.cn/blog/img/20210827/emqKuu.png" alt="emqKuu" style="zoom:50%;"><p>然后在log文件夹下新建一个 <em><code>mongo.log</code></em> ：</p><img src="https://media.zenghr.cn/blog/img/20210827/1lqCVT.png" alt="1lqCVT" style="zoom:50%;"><h3 id="运行-mongodb" tabindex="-1"><a class="header-anchor" href="#运行-mongodb" aria-hidden="true">#</a> 运行 mongodb</h3><blockquote><p>运行 mongodb 命令前，先将你的 mongodb 安装路径配置到环境变量中</p></blockquote><p>进入 cmd 运行如下命令启动 mongodb 服务：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 后边填写你的 data 文件路径</span>
mongod <span class="token parameter variable">--dbpath</span> E:<span class="token punctuation">\\</span>xxx<span class="token punctuation">\\</span>data<span class="token punctuation">\\</span>db
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>需要注意的是：如果你没有提前创建db文件夹，是无法启动成功的。运行成功之后，我们打开浏览器，输入 127.0.0.1:27017，看到有输出信息，就说明MongoDB服务已经成功启动了</p><h2 id="linux-平台的安装" tabindex="-1"><a class="header-anchor" href="#linux-平台的安装" aria-hidden="true">#</a> linux 平台的安装</h2><p>linux 平台的 mongodb 安装，我们使用 ubuntu 18.04 下演示安装</p><table><thead><tr><th>平台</th><th>版本</th></tr></thead><tbody><tr><td><strong>ubuntu</strong></td><td><em>18.04</em></td></tr></tbody></table><p><strong>官网教程</strong></p>`,24),g={href:"https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/",target:"_blank",rel:"noopener noreferrer"},b=s(`<h3 id="_1-导入包管理系统使用的公钥" tabindex="-1"><a class="header-anchor" href="#_1-导入包管理系统使用的公钥" aria-hidden="true">#</a> 1. 导入包管理系统使用的公钥</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> <span class="token parameter variable">-qO</span> - https://www.mongodb.org/static/pgp/server-5.0.asc <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果这个操作报错提示 <code>gnupg</code> 未安装的错误，您可以：</p><ol><li><p><code>gnupg</code>使用以下命令安装及其所需的库：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> gnupg
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>安装后，重试导入密钥：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> <span class="token parameter variable">-qO</span> - https://www.mongodb.org/static/pgp/server-5.0.asc <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h3 id="_2-为-mongodb-创建一个列表文件" tabindex="-1"><a class="header-anchor" href="#_2-为-mongodb-创建一个列表文件" aria-hidden="true">#</a> 2. 为 MongoDB 创建一个列表文件</h3><p>以下命令适用于<strong>Ubuntu 18.04</strong> ，如果您不确定主机运行的是哪个 Ubuntu 版本，请在主机上打开终端或 shell 并执行<code>lsb_release -dc</code>.</p><p><code>/etc/apt/sources.list.d/mongodb-org-5.0.list</code> 为 Ubuntu 18.04 创建 文件：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu bionic/mongodb-org/5.0 multiverse&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/mongodb-org-5.0.list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-重新加载本地包数据库" tabindex="-1"><a class="header-anchor" href="#_3-重新加载本地包数据库" aria-hidden="true">#</a> 3. 重新加载本地包数据库</h3><p>发出以下命令以重新加载本地包数据库：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-安装-mongodb-包" tabindex="-1"><a class="header-anchor" href="#_4-安装-mongodb-包" aria-hidden="true">#</a> 4. 安装 MongoDB 包</h3><p>您可以安装 MongoDB 的最新稳定版本或特定版本的 MongoDB</p><p>要安装最新的稳定版本，请发出以下命令:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> mongodb-org
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>要安装特定版本，您必须单独指定每个组件包以及版本号，如下例所示：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> mongodb-org<span class="token operator">=</span><span class="token number">5.0</span>.2 mongodb-org-database<span class="token operator">=</span><span class="token number">5.0</span>.2 mongodb-org-server<span class="token operator">=</span><span class="token number">5.0</span>.2 mongodb-org-shell<span class="token operator">=</span><span class="token number">5.0</span>.2 mongodb-org-mongos<span class="token operator">=</span><span class="token number">5.0</span>.2 mongodb-org-tools<span class="token operator">=</span><span class="token number">5.0</span>.2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果您只安装<code>mongodb-org=5.0.2</code>而不包含组件包，则无论您指定什么版本，都将安装每个 MongoDB 包的最新版本</p><h3 id="_5-运行-mongodb" tabindex="-1"><a class="header-anchor" href="#_5-运行-mongodb" aria-hidden="true">#</a> 5. 运行 MongoDB</h3><p>您可以使用 <code>mongod</code> 命令来启动该mongodb：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start mongod
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果您在启动时收到类似于以下内容的错误:</p><blockquote><p>Failed to start mongod.service: Unit mongod.service not found.</p></blockquote><p>首先运行以下命令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl daemon-reload
<span class="token comment"># 然后再次运行上面的启动命令</span>
<span class="token function">sudo</span> systemctl start mongod
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>验证 MongoDB 是否已成功启动、以及开机自启</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl status mongod
<span class="token comment"># 确保 MongoDB 在系统重新启动后启动</span>
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> mongod
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>停止、重启 MongoDB</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 停止</span>
<span class="token function">sudo</span> systemctl stop mongod
<span class="token comment"># 重启</span>
<span class="token function">sudo</span> systemctl restart mongod
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-卸载-mongodb" tabindex="-1"><a class="header-anchor" href="#_6-卸载-mongodb" aria-hidden="true">#</a> 6. 卸载 MongoDB</h3><p>通过发出以下命令停止进程：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">service</span> mongod stop
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>删除您之前安装的所有 MongoDB 包:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> purge mongodb-org*
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>删除 MongoDB 数据库和日志文件:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-r</span> /var/log/mongodb
<span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-r</span> /var/lib/mongodb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mac-平台的安装" tabindex="-1"><a class="header-anchor" href="#mac-平台的安装" aria-hidden="true">#</a> Mac 平台的安装</h2>`,37),h=n("strong",null,"Homebrew",-1),v=n("strong",null,"Homebrew",-1),k={href:"https://brew.sh/#install",target:"_blank",rel:"noopener noreferrer"},f=s(`<p>我们执行一下命令就可以安装完成：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>brew tap mongodb/brew
brew <span class="token function">install</span> mongodb-community@5.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>检查是否安装成功</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mongod <span class="token parameter variable">-version</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>大功告成！！！</p><p><strong>启动mongod服务器</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>brew services start mongodb-community
<span class="token comment"># 关闭服务</span>
brew services stop mongodb-community
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7);function _(x,w){const e=t("ExternalLinkIcon");return i(),l("div",null,[c,n("p",null,[a("MongoDB提供了可用于32位系统和64位系统的预编译二进制包（新版本没有了32位系统的安装文件），你可以进入MongoDB官网下载安装，MongoDB的预编译二进制包的下载地址为："),n("a",p,[a("https://www.mongodb.com/download-center/community"),o(e)]),a("，打开之后会看到如下图，直接点击Download下载即可，也可以在 "),u,a(" 中选择你想要的版本：")]),m,n("ul",null,[n("li",null,[n("a",g,[a("https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/"),o(e)])])]),b,n("p",null,[a("Mac 平台我们使用 "),h,a(" 来安装 mongodb，这里 "),v,a(" 的安装就不详细说明，网上一大堆文档，这里就贴一下官网地址，有兴趣可以去看一下 "),n("a",k,[a("官网"),o(e)])]),f])}const B=d(r,[["render",_],["__file","03.Mongo-环境搭建.html.vue"]]);export{B as default};
