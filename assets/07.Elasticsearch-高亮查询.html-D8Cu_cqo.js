import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as k,a as n,b as i,i as a,d as t,w as h,r as p,o as B}from"./app-D-mL7Kg7.js";const r={},d={class:"hint-container tip"};function g(c,s){const l=p("RouteLink");return B(),k("div",null,[s[7]||(s[7]=n('<h1 id="elasticsearch-é«˜äº®æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#elasticsearch-é«˜äº®æŸ¥è¯¢"><span>Elasticsearch é«˜äº®æŸ¥è¯¢</span></a></h1><p>æ—¥å¸¸ç”Ÿæ´»ä¸­æˆ‘ä»¬ä½¿ç”¨æœç´¢å·¥å…·å°è¯•æŸ¥è¯¢ä¸€äº›ä¿¡æ¯çš„æ—¶å€™ï¼Œå¸¸å¸¸å¯ä»¥çœ‹åˆ°è¿”å›çš„ç»“æœé›†ä¸­å’Œæˆ‘ä»¬æŸ¥è¯¢æ¡ä»¶ç›¸ç¬¦åˆçš„å­—æ®µè¢«ç‰¹æ®Šçš„é¢œè‰²æ‰€æ ‡è®°ï¼Œè¿™å°±æ˜¯ç»“æœé«˜äº®æ˜¾ç¤ºã€‚é€šè¿‡é«˜äº®æ˜¾ç¤ºç”¨æˆ·å¯ä»¥æ˜æ˜¾çš„å‘ç°æŸ¥è¯¢åŒ¹é…çš„ä½ç½®ï¼ŒElasticsearch ä½¿ç”¨ <code>highlight</code> æ¥å®ç°æœç´¢ç»“æœä¸­ä¸€ä¸ªæˆ–å¤šä¸ªå­—æ®µçªå‡ºæ˜¾ç¤º</p><h2 id="ä¾‹å­ğŸŒ°" tabindex="-1"><a class="header-anchor" href="#ä¾‹å­ğŸŒ°"><span>ä¾‹å­ğŸŒ°</span></a></h2><p>ä¸¾ä¸ªğŸŒ° - <em>æŸ¥è¯¢ æ”»ç•¥ä¸­å¸¦ä¸Šæµ·çš„æ•°æ® - å¤šå­—æ®µåŒ¹é…</em></p><h3 id="æ˜ å°„ç»“æ„" tabindex="-1"><a class="header-anchor" href="#æ˜ å°„ç»“æ„"><span>æ˜ å°„ç»“æ„</span></a></h3><p>ä¸‹é¢æ˜¯ä¾‹å­æ‰€ä½¿ç”¨çš„æ˜ å°„ç»“æ„</p>',6)),i("blockquote",null,[i("p",null,[s[1]||(s[1]=a("æ³¨æ„ï¼šè¿™é‡Œä½¿ç”¨äº† ")),s[2]||(s[2]=i("code",null,"IK",-1)),s[3]||(s[3]=a(" åˆ†è¯å™¨ï¼Œå¦‚éœ€äº†è§£ IK åˆ†è¯å™¨è¯·çœ‹ ")),t(l,{to:"/passages/2021-08-16-elasticsearch-ik.html"},{default:h(()=>s[0]||(s[0]=[a("Elasticsearch ä¸­æ–‡åˆ†è¯å™¨")])),_:1})])]),s[8]||(s[8]=n(`<div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">  &quot;mappings&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">    &quot;_doc&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">      &quot;properties&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;id&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;type&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;keyword&quot;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;subTitle&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;type&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;text&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;store&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;analyzer&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;ik_max_word&quot;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;summary&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;type&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;text&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;store&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;analyzer&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;ik_max_word&quot;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;title&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;type&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;text&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;store&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;analyzer&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;ik_max_word&quot;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰§è¡Œå¦‚ä¸‹è¯·æ±‚ä¹‹åä¼šå¾—åˆ°è¿”å›å†…å®¹ï¼Œåœ¨ <code>hits</code> ä¸­é™¤äº†å¸¸è§„æ•°æ®å¤–ï¼Œè¿˜ä¼šæœ‰ <strong><code>highlight</code></strong> å¯¹è±¡</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">  &quot;query&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">    &quot;multi_match&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">      &quot;query&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;ä¸Šæµ·&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">      &quot;fields&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;title&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;subTitle&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;summary&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">  &quot;highlight&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">    &quot;fields&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">      &quot;title&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;pre_tags&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;&lt;b&gt;&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;post_tags&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;&lt;/b&gt;&quot;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">      },</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">      &quot;subTitle&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: {},</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">      &quot;summary&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;pre_tags&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;&lt;b&gt;&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;post_tags&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;&lt;/b&gt;&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;number_of_fragments&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;fragment_size&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">10</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿”å›çš„ç»“æœé‡Œé¢æ¯ä¸ª hit å¤šäº†ä¸€ä¸ªç±»ä¼¼è¿™æ ·éƒ¨åˆ†ï¼š</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">  &quot;hits&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">    &quot;hits&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : [</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">      {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;_index&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;strategy_es&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;_type&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;_doc&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;_id&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;7&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;_score&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">2.4005952</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;_source&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;id&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;title&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;æ‡’äººåƒè´§æŒ‡å— | è½»æ¾åƒéåœ°é“ä¸Šæµ·å°åƒ&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;subTitle&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;è½»æ¾åƒéåœ°é“ä¸Šæµ·å°åƒ&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;summary&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;å»ä¸€ä¸ªåœ°æ–¹æ—…è¡Œå½“ç„¶è¦å°å°å½“åœ°çš„ç‰¹è‰²ç¾é£Ÿï¼Œä¸ç„¶æ€»è§‰å¾—è¿™è¶Ÿæ—…è¡Œä¸å®Œæ•´ã€‚ä½†æ˜¯å¯¹äºä¸ç†Ÿæ‚‰ä¸Šæµ·çš„æ¸¸å®¢æ¥è¯´ï¼Œâ€œå“ªäº›æ˜¯è€ä¸Šæµ·å°åƒï¼Ÿå»å“ªé‡Œèƒ½åƒåˆ°åœ°é“çš„ï¼Ÿâ€è¿™äº›éƒ½æ˜¯å¤´ç–¼çš„é—®é¢˜ã€‚è¿™ç¯‡æ”»ç•¥å°†ä¼šç»™å¤§å®¶ä»‹ç»è€ä¸Šæµ·å°åƒï¼Œæ¨èä¸€äº›è€å­—å·ï¼Œå¹¶é™„ä¸Šå‘¨è¾¹æ¸¸ç©å°Tips&quot;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        },</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">        &quot;highlight&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;summary&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : [</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">            &quot;ä½†æ˜¯å¯¹äºä¸ç†Ÿæ‚‰&lt;b&gt;ä¸Šæµ·&lt;/b&gt;çš„æ¸¸å®¢æ¥è¯´&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">            &quot;ï¼Œâ€œå“ªäº›æ˜¯è€&lt;b&gt;ä¸Šæµ·&lt;/b&gt;å°åƒï¼Ÿ&quot;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">          ],</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;subTitle&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : [</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">            &quot;è½»æ¾åƒéåœ°é“&lt;em&gt;ä¸Šæµ·&lt;/em&gt;å°åƒ&quot;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">          ],</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">          &quot;title&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : [</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">            &quot;æ‡’äººåƒè´§æŒ‡å— | è½»æ¾åƒéåœ°é“&lt;b&gt;ä¸Šæµ·&lt;/b&gt;å°åƒ&quot;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">          ]</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">    ]</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é«˜äº®è®¾ç½®" tabindex="-1"><a class="header-anchor" href="#é«˜äº®è®¾ç½®"><span>é«˜äº®è®¾ç½®</span></a></h2><p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬é¢„è®¾äº† é«˜äº®å…³é”®å­— çš„HTMLæ ‡ç­¾è¿›è¡ŒåŒ…è£¹ï¼Œä¸‹é¢æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹é«˜äº® <strong>highlight</strong> çš„å‚æ•°å®šä¹‰ï¼Œä¸‹é¢çš„å‚æ•°å¯ä»¥è®¾ç½®åœ¨ <code>highlight</code> çš„ä¸‹ä¸€çº§æ­¤æ—¶ä¸º <strong>å…¨å±€è®¾ç½®</strong>ï¼Œä¹Ÿå¯ä»¥è®¾ç½®åœ¨å­—æ®µçš„ä¸‹ä¸€çº§ï¼Œæ­¤æ—¶ä¸º <strong>å­—æ®µè®¾ç½®</strong></p><blockquote><p>å•ä¸ªå­—æ®µçš„è®¾ç½®ä¼˜å…ˆçº§é«˜äºå…¨å±€è®¾ç½®</p></blockquote><h3 id="number-of-fragments" tabindex="-1"><a class="header-anchor" href="#number-of-fragments"><span>number_of_fragments</span></a></h3><p>è¦è¿”å›çš„æœ€å¤§ç‰‡æ®µæ•°ï¼Œå¦‚æœç‰‡æ®µæ•°è®¾ç½®ä¸º 0ï¼Œåˆ™ä¸è¿”å›ä»»ä½•ç‰‡æ®µï¼Œ<strong>è€Œæ˜¯çªå‡ºæ˜¾ç¤ºå¹¶è¿”å›æ•´ä¸ªå­—æ®µå†…å®¹</strong>ã€‚</p><p>å½“æ‚¨éœ€è¦çªå‡ºæ˜¾ç¤ºæ ‡é¢˜æˆ–åœ°å€ç­‰çŸ­æ–‡æœ¬æ—¶ï¼Œè¿™ä¼šå¾ˆæ–¹ä¾¿ï¼Œä½†ä¸éœ€è¦åˆ†æ®µã€‚å¦‚æœ<code>number_of_fragments</code> ä¸º 0ï¼Œ<code>fragment_size</code>åˆ™å¿½ç•¥ã€‚é»˜è®¤ä¸º 5</p><p>ä¾‹å¦‚ä¸Šé¢ğŸ‘†æˆ‘ä»¬è®¾ç½®äº† <em>number_of_fragments: 2</em> ï¼Œé‚£ä¹ˆ summary å­—æ®µè¿”å›äº†ä¸¤æ®µæ•°æ®</p><div class="language-json" data-highlighter="shiki" data-ext="json" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">    &quot;summary&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : [</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">        &quot;ä½†æ˜¯å¯¹äºä¸ç†Ÿæ‚‰&lt;b&gt;ä¸Šæµ·&lt;/b&gt;çš„æ¸¸å®¢æ¥è¯´&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">        &quot;ï¼Œâ€œå“ªäº›æ˜¯è€&lt;b&gt;ä¸Šæµ·&lt;/b&gt;å°åƒï¼Ÿ&quot;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">    ]</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>å¦‚æœè®¾ç½®æˆ 0 ï¼Œå°±è¿”å›åŸæœ¬æ•°æ®</p><div class="language-json" data-highlighter="shiki" data-ext="json" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">    &quot;summary&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;"> : [</span></span>
<span class="line"><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">            &quot;å»ä¸€ä¸ªåœ°æ–¹æ—…è¡Œå½“ç„¶è¦å°å°å½“åœ°çš„ç‰¹è‰²ç¾é£Ÿï¼Œä¸ç„¶æ€»è§‰å¾—è¿™è¶Ÿæ—…è¡Œä¸å®Œæ•´ã€‚ä½†æ˜¯å¯¹äºä¸ç†Ÿæ‚‰&lt;b&gt;ä¸Šæµ·&lt;/b&gt;çš„æ¸¸å®¢æ¥è¯´ï¼Œâ€œå“ªäº›æ˜¯è€&lt;b&gt;ä¸Šæµ·&lt;/b&gt;å°åƒï¼Ÿå»å“ªé‡Œèƒ½åƒåˆ°åœ°é“çš„ï¼Ÿâ€è¿™äº›éƒ½æ˜¯å¤´ç–¼çš„é—®é¢˜ã€‚è¿™ç¯‡æ”»ç•¥å°†ä¼šç»™å¤§å®¶ä»‹ç»è€&lt;b&gt;ä¸Šæµ·&lt;/b&gt;å°åƒï¼Œæ¨èä¸€äº›è€å­—å·ï¼Œå¹¶é™„ä¸Šå‘¨è¾¹æ¸¸ç©å°Tips&quot;</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">    ]</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><h3 id="fragment-size" tabindex="-1"><a class="header-anchor" href="#fragment-size"><span>fragment_size</span></a></h3><p>ä¸€æ®µ fragment åŒ…å«å¤šå°‘ä¸ªå­—ç¬¦ï¼ˆä»¥å­—ç¬¦ä¸ºå•ä½ï¼‰é»˜è®¤ä¸º 100</p><h3 id="pre-tags" tabindex="-1"><a class="header-anchor" href="#pre-tags"><span>pre_tags</span></a></h3><p>æ ‡è®° highlight çš„å¼€å§‹æ ‡ç­¾ï¼Œä¾‹å¦‚ä¸Šé¢çš„ <code>&lt;b&gt;</code> æ ‡ç­¾</p><h3 id="post-tags" tabindex="-1"><a class="header-anchor" href="#post-tags"><span>post_tags</span></a></h3><p>æ ‡è®° highlight çš„ç»“æŸæ ‡ç­¾ï¼Œä¾‹å¦‚ä¸Šé¢çš„ <code>&lt;/b&gt;</code> æ ‡ç­¾</p><blockquote><p>ç³»ç»Ÿé¢„è®¾çš„æ ‡ç­¾ä¸º <code>&lt;em&gt;</code></p></blockquote><h3 id="order" tabindex="-1"><a class="header-anchor" href="#order"><span>order</span></a></h3><p>orderæ§åˆ¶äº†è¿”å›å¯¹è±¡ä¸­ <code>highlight</code> ç‰‡æ®µçš„æ’åºã€‚ä¸‹é¢ä¾‹å­ä¸­è¿”å›çš„é«˜äº®ç‰‡æ®µå°†ä¼šæ ¹æ®åˆ†æ•°é¡ºåºè¾“å‡ºã€‚å‡å¦‚è®¾ç½®äº†noneåˆ™æ˜¯æŒ‰ç…§é¡ºåºè¾“å‡º</p><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>æœ€å‡†ç¡®çš„æ–‡æ¡£è¿˜æ˜¯å®˜ç½‘ï¼Œæ›´å¤šçš„å‚æ•°è¯·å‚è€ƒ<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-highlighting.html#highlighting-settings" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p></div><h2 id="java-ä»£ç å®ç°é«˜äº®æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#java-ä»£ç å®ç°é«˜äº®æŸ¥è¯¢"><span>Java ä»£ç å®ç°é«˜äº®æŸ¥è¯¢</span></a></h2>`,26)),i("div",d,[s[6]||(s[6]=i("p",{class:"hint-container-title"},"æç¤º",-1)),i("p",null,[s[5]||(s[5]=a("åœ¨è¿™é‡Œæˆ‘ä»¬å°±ä¸ä»‹ç» Elasticsearch å’Œ SpringBoot çš„é›†æˆï¼Œå¦‚æœä¸ä¼šè¯·çœ‹ä¸Šä¸€ç¯‡æ–‡ç«  ")),t(l,{to:"/passages/2021-08-18-elasticsearch-integrate-springboot.html"},{default:h(()=>s[4]||(s[4]=[a("SpringBoot é›†æˆ Elasticsearch")])),_:1})])]),s[9]||(s[9]=n(`<table><thead><tr><th>æ¡†æ¶</th><th>ç‰ˆæœ¬</th></tr></thead><tbody><tr><td>SpringBoot</td><td>2.5.3</td></tr><tr><td>Elasticsearch</td><td>7.14.0</td></tr><tr><td>Spring Data Elasticsearch</td><td>4.2.3</td></tr></tbody></table><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="--shiki-light:#abb2bf;--shiki-dark:#abb2bf;--shiki-light-bg:#282c34;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-dark-pro one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">Autowired</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">private</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> ElasticsearchRestTemplate</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;"> restTemplate</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ----------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æ„å»ºæŸ¥è¯¢å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">NativeSearchQueryBuilder</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;"> builder </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> NativeSearchQueryBuilder</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è·å–å­—æ®µ</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">[] fields </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">[]{</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;title&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &quot;subTitle&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;"> &quot;summary&quot;</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">}</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å¤šå­—æ®µåŒ¹é…</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">MultiMatchQueryBuilder</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;"> multiMatchQueryBuilder </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">    QueryBuilders</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">multiMatchQuery</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;ä¸Šæµ·&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, fields);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è®¾ç½®é«˜äº®</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">HighlightBuilder</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;"> highlightBuilder </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;"> HighlightBuilder</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;"> field </span><span style="--shiki-light:#C678DD;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;"> fields) {</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">    highlightBuilder</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">field</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(field);</span></span>
<span class="line"><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">highlightBuilder</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">requireFieldMatch</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">false</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // å¦‚æœè¦å¤šä¸ªå­—æ®µé«˜äº®,è¿™é¡¹è¦ä¸ºfalse</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">highlightBuilder</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">preTags</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;&lt;span style=&#39;color:red&#39;&gt;&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // é«˜äº®è®¾ç½®</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">highlightBuilder</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">postTags</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;&lt;/span&gt;&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">highlightBuilder</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">numOfFragments</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // è¿”å›ç»“æœæœ€å¤šå¯ä»¥åŒ…å«å‡ æ®µä¸è¿ç»­çš„æ–‡å­—ã€‚é»˜è®¤æ˜¯5, è¿™é‡Œä¸åˆ†æ®µæ˜¾ç¤º</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åˆ†é¡µ</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">Pageable</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;"> pageable </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> PageRequest</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">of</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#D19A66;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">                                   Sort</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">Direction</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">ASC</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;_id&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è®¾ç½®åˆ†é¡µå‚æ•°</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å°è£…æŸ¥è¯¢</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">builder</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">withQuery</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(multiMatchQueryBuilder)</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">    .</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">withPageable</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(pageable)</span><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // å°è£…åˆ†é¡µ</span></span>
<span class="line"><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">    .</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">withHighlightBuilder</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(highlightBuilder);</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">NativeSearchQuery</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;"> searchQuery </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> builder</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">build</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å‘èµ·æ£€ç´¢è¯·æ±‚</span></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å‚æ•°ï¼šæŸ¥è¯¢æ¡ä»¶å¯¹è±¡ï¼Œè¿”å›æ³›å‹ï¼Œç´¢å¼•åç§°</span></span>
<span class="line"><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">SearchHits</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">Strategy</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E06C75;--shiki-dark:#E06C75;"> searchHits </span><span style="--shiki-light:#56B6C2;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;"> restTemplate</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">search</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(searchQuery, </span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">Strategy</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E5C07B;--shiki-dark:#E5C07B;">IndexCoordinates</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#61AFEF;--shiki-dark:#61AFEF;">of</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#98C379;--shiki-dark:#98C379;">&quot;strategy_es&quot;</span><span style="--shiki-light:#ABB2BF;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7F848E;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ... è¾“å‡ºé«˜äº®å†…å®¹</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2))])}const u=e(r,[["render",g]]),F=JSON.parse('{"path":"/database/elasticsearch/07.Elasticsearch-%E9%AB%98%E4%BA%AE%E6%9F%A5%E8%AF%A2.html","title":"Elasticsearch-é«˜äº®æŸ¥è¯¢","lang":"zh-CN","frontmatter":{"title":"Elasticsearch-é«˜äº®æŸ¥è¯¢","date":"2021-08-18T19:00:00.000Z","re":"2021-08-18-elasticsearch-highlight","description":"Elasticsearch é«˜äº®æŸ¥è¯¢ æ—¥å¸¸ç”Ÿæ´»ä¸­æˆ‘ä»¬ä½¿ç”¨æœç´¢å·¥å…·å°è¯•æŸ¥è¯¢ä¸€äº›ä¿¡æ¯çš„æ—¶å€™ï¼Œå¸¸å¸¸å¯ä»¥çœ‹åˆ°è¿”å›çš„ç»“æœé›†ä¸­å’Œæˆ‘ä»¬æŸ¥è¯¢æ¡ä»¶ç›¸ç¬¦åˆçš„å­—æ®µè¢«ç‰¹æ®Šçš„é¢œè‰²æ‰€æ ‡è®°ï¼Œè¿™å°±æ˜¯ç»“æœé«˜äº®æ˜¾ç¤ºã€‚é€šè¿‡é«˜äº®æ˜¾ç¤ºç”¨æˆ·å¯ä»¥æ˜æ˜¾çš„å‘ç°æŸ¥è¯¢åŒ¹é…çš„ä½ç½®ï¼ŒElasticsearch ä½¿ç”¨ highlight æ¥å®ç°æœç´¢ç»“æœä¸­ä¸€ä¸ªæˆ–å¤šä¸ªå­—æ®µçªå‡ºæ˜¾ç¤º ä¾‹å­ğŸŒ° ä¸¾ä¸ªğŸŒ° - æŸ¥è¯¢ æ”»ç•¥...","permalink":"/passages/2021-08-18-elasticsearch-highlight.html","head":[["meta",{"property":"og:url","content":"https://blog.zenghr.cn/passages/2021-08-18-elasticsearch-highlight.html"}],["meta",{"property":"og:site_name","content":"Zenghr"}],["meta",{"property":"og:title","content":"Elasticsearch-é«˜äº®æŸ¥è¯¢"}],["meta",{"property":"og:description","content":"Elasticsearch é«˜äº®æŸ¥è¯¢ æ—¥å¸¸ç”Ÿæ´»ä¸­æˆ‘ä»¬ä½¿ç”¨æœç´¢å·¥å…·å°è¯•æŸ¥è¯¢ä¸€äº›ä¿¡æ¯çš„æ—¶å€™ï¼Œå¸¸å¸¸å¯ä»¥çœ‹åˆ°è¿”å›çš„ç»“æœé›†ä¸­å’Œæˆ‘ä»¬æŸ¥è¯¢æ¡ä»¶ç›¸ç¬¦åˆçš„å­—æ®µè¢«ç‰¹æ®Šçš„é¢œè‰²æ‰€æ ‡è®°ï¼Œè¿™å°±æ˜¯ç»“æœé«˜äº®æ˜¾ç¤ºã€‚é€šè¿‡é«˜äº®æ˜¾ç¤ºç”¨æˆ·å¯ä»¥æ˜æ˜¾çš„å‘ç°æŸ¥è¯¢åŒ¹é…çš„ä½ç½®ï¼ŒElasticsearch ä½¿ç”¨ highlight æ¥å®ç°æœç´¢ç»“æœä¸­ä¸€ä¸ªæˆ–å¤šä¸ªå­—æ®µçªå‡ºæ˜¾ç¤º ä¾‹å­ğŸŒ° ä¸¾ä¸ªğŸŒ° - æŸ¥è¯¢ æ”»ç•¥..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-07T18:39:41.000Z"}],["meta",{"property":"article:published_time","content":"2021-08-18T19:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-07T18:39:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Elasticsearch-é«˜äº®æŸ¥è¯¢\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2021-08-18T19:00:00.000Z\\",\\"dateModified\\":\\"2025-04-07T18:39:41.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Zenghr\\"}]}"]]},"git":{"createdTime":1744051181000,"updatedTime":1744051181000,"contributors":[{"name":"zenghr","username":"zenghr","email":"zenghr","commits":1,"url":"https://github.com/zenghr"}]},"readingTime":{"minutes":4.24,"words":1273},"filePathRelative":"database/elasticsearch/07.Elasticsearch-é«˜äº®æŸ¥è¯¢.md","localizedDate":"2021å¹´8æœˆ18æ—¥","excerpt":"\\n<p>æ—¥å¸¸ç”Ÿæ´»ä¸­æˆ‘ä»¬ä½¿ç”¨æœç´¢å·¥å…·å°è¯•æŸ¥è¯¢ä¸€äº›ä¿¡æ¯çš„æ—¶å€™ï¼Œå¸¸å¸¸å¯ä»¥çœ‹åˆ°è¿”å›çš„ç»“æœé›†ä¸­å’Œæˆ‘ä»¬æŸ¥è¯¢æ¡ä»¶ç›¸ç¬¦åˆçš„å­—æ®µè¢«ç‰¹æ®Šçš„é¢œè‰²æ‰€æ ‡è®°ï¼Œè¿™å°±æ˜¯ç»“æœé«˜äº®æ˜¾ç¤ºã€‚é€šè¿‡é«˜äº®æ˜¾ç¤ºç”¨æˆ·å¯ä»¥æ˜æ˜¾çš„å‘ç°æŸ¥è¯¢åŒ¹é…çš„ä½ç½®ï¼ŒElasticsearch ä½¿ç”¨ <code>highlight</code> æ¥å®ç°æœç´¢ç»“æœä¸­ä¸€ä¸ªæˆ–å¤šä¸ªå­—æ®µçªå‡ºæ˜¾ç¤º</p>\\n<h2>ä¾‹å­ğŸŒ°</h2>\\n<p>ä¸¾ä¸ªğŸŒ° - <em>æŸ¥è¯¢ æ”»ç•¥ä¸­å¸¦ä¸Šæµ·çš„æ•°æ® - å¤šå­—æ®µåŒ¹é…</em></p>\\n<h3>æ˜ å°„ç»“æ„</h3>\\n<p>ä¸‹é¢æ˜¯ä¾‹å­æ‰€ä½¿ç”¨çš„æ˜ å°„ç»“æ„</p>\\n<blockquote>\\n<p>æ³¨æ„ï¼šè¿™é‡Œä½¿ç”¨äº† <code>IK</code> åˆ†è¯å™¨ï¼Œå¦‚éœ€äº†è§£ IK åˆ†è¯å™¨è¯·çœ‹ <a href=\\"/passages/2021-08-16-elasticsearch-ik.html\\" target=\\"_blank\\">Elasticsearch ä¸­æ–‡åˆ†è¯å™¨</a></p>\\n</blockquote>","autoDesc":true}');export{u as comp,F as data};
