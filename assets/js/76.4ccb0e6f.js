(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{401:function(a,t,s){"use strict";s.r(t);var e=s(2),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"环境搭建以及-kibana-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境搭建以及-kibana-安装"}},[a._v("#")]),a._v(" 环境搭建以及 Kibana 安装")]),a._v(" "),t("blockquote",[t("p",[a._v("本文介绍 Elasticsearch 和 Kibana 的安装，本系列使用的 Elasticsearch 版本是 7.14.0")])]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("框架")]),a._v(" "),t("th",[a._v("版本")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[t("strong",[a._v("Elasticsearch")])]),a._v(" "),t("td",[t("em",[a._v("7.14.0")])])]),a._v(" "),t("tr",[t("td",[t("strong",[a._v("Kibana")])]),a._v(" "),t("td",[t("em",[a._v("7.14.0")])])])])]),a._v(" "),t("h2",{attrs:{id:"官方教程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#官方教程"}},[a._v("#")]),a._v(" 官方教程")]),a._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/getting-started.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("官方安装教程"),t("OutboundLink")],1)])]),a._v(" "),t("h2",{attrs:{id:"安装-elasticsearch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-elasticsearch"}},[a._v("#")]),a._v(" 安装 Elasticsearch")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("div",{staticClass:"highlight-lines"},[t("br"),t("br"),t("div",{staticClass:"highlighted"},[a._v(" ")]),t("br")]),t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" network create elastic\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull docker.elastic.co/elasticsearch/elasticsearch:7.14.0\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run --name es01-test -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9200")]),a._v(":9200 -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9300")]),a._v(":9300 -e "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"discovery.type=single-node"')]),a._v(" docker.elastic.co/elasticsearch/elasticsearch:7.14.0\n")])])]),t("h2",{attrs:{id:"配置文件-elasticsearch-yaml"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置文件-elasticsearch-yaml"}},[a._v("#")]),a._v(" 配置文件 elasticsearch.yaml")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("network.host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 0.0.0.0\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9200")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("discovery.seed_hosts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"127.0.0.1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[::1]"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cluster.initial_master_nodes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"node-1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置跨域配置")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.cors.allow-origin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" /."),t("span",{pre:!0,attrs:{class:"token important"}},[a._v("*/")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.cors.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.cors.allow-headers")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" X"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("Requested"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("With"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("X"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("Auth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("Token"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("Content"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("Type"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("Content"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("Length"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("Authorization\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.cors.allow-credentials")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n")])])]),t("h2",{attrs:{id:"安装-kibana"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-kibana"}},[a._v("#")]),a._v(" 安装 Kibana")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("div",{staticClass:"highlight-lines"},[t("br"),t("div",{staticClass:"highlighted"},[a._v(" ")]),t("br")]),t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull docker.elastic.co/kibana/kibana:7.14.0\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run --name kibana -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5601")]),a._v(":5601 -e "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ELASTICSEARCH_HOSTS=http://{能访问 elastic 的 ip}:9200"')]),a._v(" docker.elastic.co/kibana/kibana:7.14.0\n")])])]),t("blockquote",[t("p",[t("strong",[a._v("注意：")]),a._v(" 运行 Kibana 需要设置能访问 elastic 的 ip 端口")])]),a._v(" "),t("h2",{attrs:{id:"kibana-设置中文"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kibana-设置中文"}},[a._v("#")]),a._v(" Kibana 设置中文")]),a._v(" "),t("p",[a._v("kibana 7 中官方加入了中文的选项，只需要在配置文件 "),t("code",[a._v("kibana.yml")]),a._v(" 中加入")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("i18n.locale")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"zh-CN"')]),a._v("\n")])])]),t("ul",[t("li",[t("p",[a._v("进入kibana容器")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -it "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("容器 ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" /bin/bash\n")])])])]),a._v(" "),t("li",[t("p",[a._v("进入配置文件")]),a._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /opt/kibana/config/kibana.yml\n")])])])])])])}),[],!1,null,null,null);t.default=n.exports}}]);