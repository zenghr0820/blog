(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{436:function(s,t,a){"use strict";a.r(t);var n=a(2),o=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"mongo-安装教程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mongo-安装教程"}},[s._v("#")]),s._v(" Mongo 安装教程")]),s._v(" "),t("blockquote",[t("p",[s._v("本文介绍 mongodb 的安装，使用的版本是 "),t("em",[s._v("5.0.2")])])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("框架")]),s._v(" "),t("th",[s._v("版本")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("strong",[s._v("mongodb")])]),s._v(" "),t("td",[t("em",[s._v("5.0.2")])])])])]),s._v(" "),t("h2",{attrs:{id:"mongodb-下载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-下载"}},[s._v("#")]),s._v(" mongodb 下载")]),s._v(" "),t("p",[s._v("MongoDB提供了可用于32位系统和64位系统的预编译二进制包（新版本没有了32位系统的安装文件），你可以进入MongoDB官网下载安装，MongoDB的预编译二进制包的下载地址为："),t("a",{attrs:{href:"https://www.mongodb.com/download-center/community",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.mongodb.com/download-center/community"),t("OutboundLink")],1),s._v("，打开之后会看到如下图，直接点击Download下载即可，也可以在 "),t("em",[s._v("Version")]),s._v(" 中选择你想要的版本：")]),s._v(" "),t("blockquote",[t("p",[t("em",[s._v("注意：在 MongoDB 2.2 版本后已经不再支持 Windows XP 系统。最新版本也已经没有了 32 位系统的安装文件。")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://media.zenghr.cn/blog/img/20210827/XKWaYw.png",alt:"XKWaYw"}})]),s._v(" "),t("h2",{attrs:{id:"window-平台的安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#window-平台的安装"}},[s._v("#")]),s._v(" window 平台的安装")]),s._v(" "),t("p",[s._v("下载 .msi 文件，下载后双击该文件，按操作提示安装即可")]),s._v(" "),t("p",[s._v('安装过程中，你可以通过点击 "Custom(自定义)" 按钮来设置你的安装目录')]),s._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://media.zenghr.cn/blog/img/20210827/yzrPZC.png",alt:"yzrPZC"}}),s._v(" "),t("p",[s._v("自定义完安装目录后，我们直接一直 next")]),s._v(" "),t("p",[s._v("这里安装 "),t("strong",[s._v('"Install MongoDB Compass"')]),s._v(" 不勾选，否则可能要很长时间都一直在执行安装，MongoDB Compass是一个图形界面管理工具，这里不安装也是没有问题的，可以自己去下载一个图形界面管理工具")]),s._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:"/Users/zenghr/Library/Application Support/typora-user-images/image-20210827114103678.png",alt:"image-20210827114103678"}}),s._v(" "),t("p",[s._v("之后稍微等待一会就安装好了")]),s._v(" "),t("h3",{attrs:{id:"配置mongodb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置mongodb"}},[s._v("#")]),s._v(" 配置MongoDB")]),s._v(" "),t("p",[s._v("MongoDB的安装过程是很简单的，但是配置就比较麻烦了，可能会遇到各种各样的问题，需要你有足够的耐心和仔细。")]),s._v(" "),t("p",[s._v("首先要在MongoDB的data文件夹里新建一个 "),t("em",[t("strong",[s._v("db文件夹")])]),s._v(" 和一个 "),t("em",[t("strong",[s._v("log文件夹")])]),s._v(" ：")]),s._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://media.zenghr.cn/blog/img/20210827/emqKuu.png",alt:"emqKuu"}}),s._v(" "),t("p",[s._v("然后在log文件夹下新建一个 "),t("em",[t("code",[s._v("mongo.log")])]),s._v(" ：")]),s._v(" "),t("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://media.zenghr.cn/blog/img/20210827/1lqCVT.png",alt:"1lqCVT"}}),s._v(" "),t("h3",{attrs:{id:"运行-mongodb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运行-mongodb"}},[s._v("#")]),s._v(" 运行 mongodb")]),s._v(" "),t("blockquote",[t("p",[s._v("运行 mongodb 命令前，先将你的 mongodb 安装路径配置到环境变量中")])]),s._v(" "),t("p",[s._v("进入 cmd 运行如下命令启动 mongodb 服务：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 后边填写你的 data 文件路径")]),s._v("\nmongod "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--dbpath")]),s._v(" E:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("xxx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("db\n")])])]),t("p",[s._v("需要注意的是：如果你没有提前创建db文件夹，是无法启动成功的。运行成功之后，我们打开浏览器，输入 127.0.0.1:27017，看到有输出信息，就说明MongoDB服务已经成功启动了")]),s._v(" "),t("h2",{attrs:{id:"linux-平台的安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-平台的安装"}},[s._v("#")]),s._v(" linux 平台的安装")]),s._v(" "),t("p",[s._v("linux 平台的 mongodb 安装，我们使用 ubuntu 18.04 下演示安装")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("平台")]),s._v(" "),t("th",[s._v("版本")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("strong",[s._v("ubuntu")])]),s._v(" "),t("td",[t("em",[s._v("18.04")])])])])]),s._v(" "),t("p",[t("strong",[s._v("官网教程")])]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/"),t("OutboundLink")],1)])]),s._v(" "),t("h3",{attrs:{id:"_1-导入包管理系统使用的公钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-导入包管理系统使用的公钥"}},[s._v("#")]),s._v(" 1. 导入包管理系统使用的公钥")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qO")]),s._v(" - https://www.mongodb.org/static/pgp/server-5.0.asc "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" apt-key "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -\n")])])]),t("p",[s._v("如果这个操作报错提示 "),t("code",[s._v("gnupg")]),s._v(" 未安装的错误，您可以：")]),s._v(" "),t("ol",[t("li",[t("p",[t("code",[s._v("gnupg")]),s._v("使用以下命令安装及其所需的库：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gnupg\n")])])])]),s._v(" "),t("li",[t("p",[s._v("安装后，重试导入密钥：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qO")]),s._v(" - https://www.mongodb.org/static/pgp/server-5.0.asc "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" apt-key "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -\n")])])])])]),s._v(" "),t("h3",{attrs:{id:"_2-为-mongodb-创建一个列表文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-为-mongodb-创建一个列表文件"}},[s._v("#")]),s._v(" 2. 为 MongoDB 创建一个列表文件")]),s._v(" "),t("p",[s._v("以下命令适用于"),t("strong",[s._v("Ubuntu 18.04")]),s._v(" ，如果您不确定主机运行的是哪个 Ubuntu 版本，请在主机上打开终端或 shell 并执行"),t("code",[s._v("lsb_release -dc")]),s._v(".")]),s._v(" "),t("p",[t("code",[s._v("/etc/apt/sources.list.d/mongodb-org-5.0.list")]),s._v(" 为 Ubuntu 18.04 创建 文件：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu bionic/mongodb-org/5.0 multiverse"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" /etc/apt/sources.list.d/mongodb-org-5.0.list\n")])])]),t("h3",{attrs:{id:"_3-重新加载本地包数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-重新加载本地包数据库"}},[s._v("#")]),s._v(" 3. 重新加载本地包数据库")]),s._v(" "),t("p",[s._v("发出以下命令以重新加载本地包数据库：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n")])])]),t("h3",{attrs:{id:"_4-安装-mongodb-包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-安装-mongodb-包"}},[s._v("#")]),s._v(" 4. 安装 MongoDB 包")]),s._v(" "),t("p",[s._v("您可以安装 MongoDB 的最新稳定版本或特定版本的 MongoDB")]),s._v(" "),t("p",[s._v("要安装最新的稳定版本，请发出以下命令:")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" mongodb-org\n")])])]),t("p",[s._v("要安装特定版本，您必须单独指定每个组件包以及版本号，如下例所示：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" mongodb-org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),s._v(".2 mongodb-org-database"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),s._v(".2 mongodb-org-server"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),s._v(".2 mongodb-org-shell"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),s._v(".2 mongodb-org-mongos"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),s._v(".2 mongodb-org-tools"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),s._v(".2\n")])])]),t("p",[s._v("如果您只安装"),t("code",[s._v("mongodb-org=5.0.2")]),s._v("而不包含组件包，则无论您指定什么版本，都将安装每个 MongoDB 包的最新版本")]),s._v(" "),t("h3",{attrs:{id:"_5-运行-mongodb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-运行-mongodb"}},[s._v("#")]),s._v(" 5. 运行 MongoDB")]),s._v(" "),t("p",[s._v("您可以使用 "),t("code",[s._v("mongod")]),s._v(" 命令来启动该mongodb：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start mongod\n")])])]),t("p",[s._v("如果您在启动时收到类似于以下内容的错误:")]),s._v(" "),t("blockquote",[t("p",[s._v("Failed to start mongod.service: Unit mongod.service not found.")])]),s._v(" "),t("p",[s._v("首先运行以下命令：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl daemon-reload\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 然后再次运行上面的启动命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start mongod\n")])])]),t("p",[t("strong",[s._v("验证 MongoDB 是否已成功启动、以及开机自启")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl status mongod\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保 MongoDB 在系统重新启动后启动")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" mongod\n")])])]),t("p",[t("strong",[s._v("停止、重启 MongoDB")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl stop mongod\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart mongod\n")])])]),t("h3",{attrs:{id:"_6-卸载-mongodb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-卸载-mongodb"}},[s._v("#")]),s._v(" 6. 卸载 MongoDB")]),s._v(" "),t("p",[s._v("通过发出以下命令停止进程：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mongod stop\n")])])]),t("p",[s._v("删除您之前安装的所有 MongoDB 包:")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" purge mongodb-org*\n")])])]),t("p",[s._v("删除 MongoDB 数据库和日志文件:")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" /var/log/mongodb\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" /var/lib/mongodb\n")])])]),t("h2",{attrs:{id:"mac-平台的安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mac-平台的安装"}},[s._v("#")]),s._v(" Mac 平台的安装")]),s._v(" "),t("p",[s._v("Mac 平台我们使用 "),t("strong",[s._v("Homebrew")]),s._v(" 来安装 mongodb，这里 "),t("strong",[s._v("Homebrew")]),s._v(" 的安装就不详细说明，网上一大堆文档，这里就贴一下官网地址，有兴趣可以去看一下 "),t("a",{attrs:{href:"https://brew.sh/#install",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("我们执行一下命令就可以安装完成：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("brew tap mongodb/brew\nbrew "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mongodb-community@5.0\n")])])]),t("p",[t("strong",[s._v("检查是否安装成功")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("mongod "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-version")]),s._v("\n")])])]),t("p",[s._v("大功告成！！！")]),s._v(" "),t("p",[t("strong",[s._v("启动mongod服务器")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("brew services start mongodb-community\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭服务")]),s._v("\nbrew services stop mongodb-community\n")])])])])}),[],!1,null,null,null);t.default=o.exports}}]);