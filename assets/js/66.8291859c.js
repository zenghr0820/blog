(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{391:function(t,s,a){"use strict";a.r(s);var r=a(2),n=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"redis入门-五种数据类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redis入门-五种数据类型"}},[t._v("#")]),t._v(" Redis入门 - 五种数据类型")]),t._v(" "),s("blockquote",[s("p",[t._v("Redis所有的key（键）都是字符串。我们在谈基础数据结构时，讨论的是存储值的数据类型，主要包括常见的5种数据类型，分别是：字符串类型(String)、散列类型(Hash)、列表类型(List)、集合类型(Set)、有序集合类型(Zset)")])]),t._v(" "),s("h2",{attrs:{id:"redis-数据结构简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redis-数据结构简介"}},[t._v("#")]),t._v(" Redis 数据结构简介")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://media.zenghr.cn/blog/img/20210802/u4eAB3.jpeg",alt:"u4eAB3"}})]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("结构类型")]),t._v(" "),s("th",[t._v("结构存储的值")]),t._v(" "),s("th",[t._v("结构的读写能力")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("String字符串")])]),t._v(" "),s("td",[t._v("可以是字符串、整数或浮点数")]),t._v(" "),s("td",[t._v("对整个字符串或字符串的一部分进行操作；对整数或浮点数进行自增或自减操作；")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("List列表")])]),t._v(" "),s("td",[t._v("一个链表，链表上的每个节点都包含一个字符串")]),t._v(" "),s("td",[t._v("对链表的两端进行push和pop操作，读取单个或多个元素；根据值查找或删除元素；")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Set集合")])]),t._v(" "),s("td",[t._v("包含字符串的无序集合")]),t._v(" "),s("td",[t._v("字符串的集合，包含基础的方法有看是否存在添加、获取、删除；还包含计算交集、并集、差集等")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Hash散列")])]),t._v(" "),s("td",[t._v("包含键值对的无序散列表")]),t._v(" "),s("td",[t._v("包含方法有添加、获取、删除单个元素")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Zset有序集合")])]),t._v(" "),s("td",[t._v("和散列一样，用于存储键值对")]),t._v(" "),s("td",[t._v("字符串成员与浮点数分数之间的有序映射；元素的排列顺序由分数的大小决定；包含方法有添加、获取、删除单个元素以及根据分值范围或成员来获取元素")])])])]),t._v(" "),s("h2",{attrs:{id:"基础数据结构详解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基础数据结构详解"}},[t._v("#")]),t._v(" 基础数据结构详解")]),t._v(" "),s("h3",{attrs:{id:"字符串类型-string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#字符串类型-string"}},[t._v("#")]),t._v(" 字符串类型(String)")]),t._v(" "),s("blockquote",[s("p",[t._v("String是redis中最基本的数据类型，一个key对应一个value")])]),t._v(" "),s("p",[t._v("String类型是二进制安全的，意思是 redis 的 string 可以包含任何数据。如数字，字符串，jpg图片或者序列化的对象")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("命令使用")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("命令")]),t._v(" "),s("th",[t._v("简述")]),t._v(" "),s("th",[t._v("使用")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("get")]),t._v(" "),s("td",[t._v("获取存储在给定键中的值")]),t._v(" "),s("td",[t._v("get name")])]),t._v(" "),s("tr",[s("td",[t._v("set")]),t._v(" "),s("td",[t._v("设置存储在给定键中的值")]),t._v(" "),s("td",[t._v("set name value")])]),t._v(" "),s("tr",[s("td",[t._v("setex")]),t._v(" "),s("td",[t._v("存入键值对,timeout表示失效时间,单位s")]),t._v(" "),s("td",[t._v("setex key timeout value")])]),t._v(" "),s("tr",[s("td",[t._v("setnx")]),t._v(" "),s("td",[t._v("如果key已经存在,不做操作, 如果key不存在,直接添加")]),t._v(" "),s("td",[t._v("setnx key value")])]),t._v(" "),s("tr",[s("td",[t._v("del")]),t._v(" "),s("td",[t._v("删除存储在给定键中的值")]),t._v(" "),s("td",[t._v("del name")])]),t._v(" "),s("tr",[s("td",[t._v("incr")]),t._v(" "),s("td",[t._v("将键存储的值加1")]),t._v(" "),s("td",[t._v("incr key")])]),t._v(" "),s("tr",[s("td",[t._v("decr")]),t._v(" "),s("td",[t._v("将键存储的值减1")]),t._v(" "),s("td",[t._v("decr key")])]),t._v(" "),s("tr",[s("td",[t._v("incrby")]),t._v(" "),s("td",[t._v("将键存储的值加上整数")]),t._v(" "),s("td",[t._v("incrby key amount")])]),t._v(" "),s("tr",[s("td",[t._v("decrby")]),t._v(" "),s("td",[t._v("将键存储的值减去整数")]),t._v(" "),s("td",[t._v("decrby key amount")])]),t._v(" "),s("tr",[s("td",[t._v("ttl")]),t._v(" "),s("td",[t._v("可以查询出当前的key还剩余多长时间过期")]),t._v(" "),s("td",[t._v("ttl key")])]),t._v(" "),s("tr",[s("td",[t._v("mset")]),t._v(" "),s("td",[t._v("批量存入键值对")]),t._v(" "),s("td",[t._v("mset k1 v1 k2 v2")])]),t._v(" "),s("tr",[s("td",[t._v("mget")]),t._v(" "),s("td",[t._v("批量取出键值")]),t._v(" "),s("td",[t._v("mget k1 k2")])])])]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("ttl 命令说明：")]),t._v(" 当查询 key 不存在时或者过期时，返回 "),s("strong",[t._v("-2")]),t._v(" ，当 key 没有设置过期时间时，返回 "),s("strong",[t._v("-1")])])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("命令执行")])])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" hello world\nOK\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" get hello\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"world"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" del hello\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" get hello\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nil"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" counter "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nOK\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" get counter\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" incr counter\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" get counter\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" incrby counter "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" get counter\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" decr counter\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" get counter\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"11"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" decrby counter "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" get counter\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" setex "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\nOK\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" ttl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" ttl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" ttl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("test")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" -2\n")])])]),s("ul",[s("li",[t._v("实战场景\n"),s("ul",[s("li",[s("strong",[t._v("缓存")]),t._v("： 经典使用场景，把常用信息，字符串，图片或者视频等信息放到redis中，redis作为缓存层，mysql做持久化层，降低mysql的读写压力。")]),t._v(" "),s("li",[s("strong",[t._v("计数器")]),t._v("：redis是单线程模型，一个命令执行完才会执行下一个，同时数据可以一步落地到其他的数据源。")]),t._v(" "),s("li",[s("strong",[t._v("session")]),t._v("：常见方案spring session + redis实现session共享")])])])]),t._v(" "),s("h3",{attrs:{id:"散列类型-hash"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#散列类型-hash"}},[t._v("#")]),t._v(" 散列类型(Hash)")]),t._v(" "),s("blockquote",[s("p",[t._v("Hash类型是String类型的field和value的映射表，或者说是一个String集合")]),t._v(" "),s("p",[t._v("它特别适合存储对象,相比较而言，将一个对象存储在Hash类型里要比存储在String类型里占用更少的内存空间，并方便存储整个对象")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("命令使用")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("命令")]),t._v(" "),s("th",[t._v("简述")]),t._v(" "),s("th",[t._v("使用")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("hset")])]),t._v(" "),s("td",[t._v("添加键值对")]),t._v(" "),s("td",[t._v("hset key sub-key1 value1")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("hget")])]),t._v(" "),s("td",[t._v("获取指定散列键的值")]),t._v(" "),s("td",[t._v("hget key key1")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("hgetall")])]),t._v(" "),s("td",[t._v("获取散列中包含的所有键值对")]),t._v(" "),s("td",[t._v("hgetall key")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("hdel")])]),t._v(" "),s("td",[t._v("如果给定键存在于散列中，那么就移除这个键")]),t._v(" "),s("td",[t._v("hdel key sub-key1")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("hexists")])]),t._v(" "),s("td",[t._v("判断hash对象是含有某个键")]),t._v(" "),s("td",[t._v("hexists key hashkey")])]),t._v(" "),s("tr",[s("td",[t._v("hincrby")]),t._v(" "),s("td",[t._v("递增hashkey对应的值")]),t._v(" "),s("td",[t._v("hincrby key hashkey 递增值")])]),t._v(" "),s("tr",[s("td",[t._v("hlen")]),t._v(" "),s("td",[t._v("获取hash对象键的数量")]),t._v(" "),s("td",[t._v("hlen key")])]),t._v(" "),s("tr",[s("td",[t._v("hkeys")]),t._v(" "),s("td",[t._v("获取hash对象的所有键")]),t._v(" "),s("td",[t._v("hkeys key")])]),t._v(" "),s("tr",[s("td",[t._v("hvals")]),t._v(" "),s("td",[t._v("获取hash对象的所有值")]),t._v(" "),s("td",[t._v("hvals key")])])])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("命令执行")])])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" hset has1 name zs age "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" hget has1 name\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zs"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" hgetall has1\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zs"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" hincrby has1 age "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" hdel has1 age\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" hgetall has1\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zs"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" hexists has1 name\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" hlen has1\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" hkeys has1\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" hvals has1\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zs"')]),t._v("\n")])])]),s("ul",[s("li",[s("strong",[t._v("实战场景")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("缓存")]),t._v("： 能直观，相比string更节省空间，的维护缓存信息，如用户信息，视频信息等")])])])]),t._v(" "),s("h3",{attrs:{id:"列表类型-list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#列表类型-list"}},[t._v("#")]),t._v(" 列表类型(List)")]),t._v(" "),s("blockquote",[s("p",[t._v("Redis中的List其实就是链表（Redis用双端链表实现List）按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）")])]),t._v(" "),s("p",[t._v("Redis中的List类似Java中的queue,也可以当做List来用")]),t._v(" "),s("p",[t._v("使用 List 结构，我们可以轻松地实现最新消息排队功能（比如新浪微博的TimeLine），List的另一个应用就是消息队列，可以利用List的 PUSH 操作，将任务存放在List中，然后工作线程再用 POP 操作将任务取出进行执行")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("命令使用")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("命令")]),t._v(" "),s("th",[t._v("简述")]),t._v(" "),s("th",[t._v("使用")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("rpush")]),t._v(" "),s("td",[t._v("将给定值推入到列表右端")]),t._v(" "),s("td",[t._v("rpush key value")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("lpush")])]),t._v(" "),s("td",[t._v("将给定值推入到列表左端")]),t._v(" "),s("td",[t._v("lpush key value")])]),t._v(" "),s("tr",[s("td",[t._v("rpop")]),t._v(" "),s("td",[t._v("从列表的右端弹出一个值，并返回被弹出的值")]),t._v(" "),s("td",[t._v("rpop key")])]),t._v(" "),s("tr",[s("td",[t._v("lpop")]),t._v(" "),s("td",[t._v("从列表的左端弹出一个值，并返回被弹出的值")]),t._v(" "),s("td",[t._v("lpop key")])]),t._v(" "),s("tr",[s("td",[t._v("llen")]),t._v(" "),s("td",[t._v("获取列表长度")]),t._v(" "),s("td",[t._v("llen key")])]),t._v(" "),s("tr",[s("td",[t._v("lrange")]),t._v(" "),s("td",[t._v("获取列表在给定范围上的所有值")]),t._v(" "),s("td",[t._v("lrange key 0 -1")])]),t._v(" "),s("tr",[s("td",[t._v("ltrim")]),t._v(" "),s("td",[t._v("对一个列表进行修剪(trim)，就是说，让列表只保留指定区间内的元素")]),t._v(" "),s("td",[t._v("ltrim key start end")])]),t._v(" "),s("tr",[s("td",[t._v("lindex")]),t._v(" "),s("td",[t._v("通过索引获取列表中的元素。你也可以使用负数下标，以 -1 表示列表的最后一个元素,以此类推。")]),t._v(" "),s("td",[t._v("lindex key index")])])])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("使用列表的技巧")]),t._v(" "),s("ul",[s("li",[t._v("lpush+lpop=Stack(栈)")]),t._v(" "),s("li",[t._v("lpush+rpop=Queue（队列）")]),t._v(" "),s("li",[t._v("lpush+ltrim=Capped Collection（有限集合）")]),t._v(" "),s("li",[t._v("lpush+brpop=Message Queue（消息队列）")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("命令执行")])])])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" rpush list1 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" lrange list1 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" -1\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" rpop list1\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" lrange list1 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" -1\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" llen list1\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" ltrim list1 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\nOK\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" lrange list1 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" -1\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),t._v("\n")])])]),s("ul",[s("li",[t._v("实战场景\n"),s("ul",[s("li",[s("strong",[t._v("微博TimeLine")]),t._v(": 有人发布微博，用lpush加入时间轴，展示新的列表信息。")]),t._v(" "),s("li",[s("strong",[t._v("消息队列")])])])])]),t._v(" "),s("h3",{attrs:{id:"集合类型-set"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#集合类型-set"}},[t._v("#")]),t._v(" 集合类型(Set)")]),t._v(" "),s("blockquote",[s("p",[t._v("Redis 的 Set 是 String 类型的无序集合。集合成员是唯一的，这就意味着集合中不能出现重复的数据")]),t._v(" "),s("p",[t._v("Redis 中集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是 O(1)")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("命令使用")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("命令")]),t._v(" "),s("th",[t._v("简述")]),t._v(" "),s("th",[t._v("使用")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("sadd")]),t._v(" "),s("td",[t._v("向集合添加一个或多个成员")]),t._v(" "),s("td",[t._v("sadd key value")])]),t._v(" "),s("tr",[s("td",[t._v("scard")]),t._v(" "),s("td",[t._v("获取集合的成员数")]),t._v(" "),s("td",[t._v("scard key")])]),t._v(" "),s("tr",[s("td",[t._v("smembers")]),t._v(" "),s("td",[t._v("返回集合中的所有成员")]),t._v(" "),s("td",[t._v("smembers key member")])]),t._v(" "),s("tr",[s("td",[t._v("sismember")]),t._v(" "),s("td",[t._v("判断 member 元素是否是集合 key 的成员")]),t._v(" "),s("td",[t._v("sismember key member")])]),t._v(" "),s("tr",[s("td",[t._v("srem")]),t._v(" "),s("td",[t._v("删除set集合中的元素")]),t._v(" "),s("td",[t._v("srem key value")])]),t._v(" "),s("tr",[s("td",[t._v("spop")]),t._v(" "),s("td",[t._v("随机弹出集合中的元素")]),t._v(" "),s("td",[t._v("spop key count")])]),t._v(" "),s("tr",[s("td",[t._v("srandmember")]),t._v(" "),s("td",[t._v("随机获取set集合中元素")]),t._v(" "),s("td",[t._v("srandmember key count")])])])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" sadd set1 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" scard set1\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" smembers set1\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" sismember set1 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" sismember set1 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" spop set1\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" smembers set1\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" srem set1 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" smembers set1\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),t._v("\n")])])]),s("ul",[s("li",[s("strong",[t._v("集合我们可以取交集,并集,差集")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("命令")]),t._v(" "),s("th",[t._v("简述")]),t._v(" "),s("th",[t._v("使用")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("sdiff")])]),t._v(" "),s("td",[t._v("返回key1中特有元素(差集)")]),t._v(" "),s("td",[t._v("sdiff key1 key2")])]),t._v(" "),s("tr",[s("td",[t._v("sdiffstore")]),t._v(" "),s("td",[t._v("返回key1中特有元素存入另一个set集合")]),t._v(" "),s("td",[t._v("sdiffstore var key1 key2")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("sinter")])]),t._v(" "),s("td",[t._v("返回两个set集合的交集")]),t._v(" "),s("td",[t._v("sinter key1 key2")])]),t._v(" "),s("tr",[s("td",[t._v("sinterstore")]),t._v(" "),s("td",[t._v("返回两个set集合的交集存入另一个set集合")]),t._v(" "),s("td",[t._v("sinterstore var key1 key2")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("sunion")])]),t._v(" "),s("td",[t._v("返回两个set集合的并集")]),t._v(" "),s("td",[t._v("sunion  key1 key2")])]),t._v(" "),s("tr",[s("td",[t._v("sunionstore")]),t._v(" "),s("td",[t._v("返回两个set集合的并集存入另一个set集合")]),t._v(" "),s("td",[t._v("sunionstore var key1 key2")])]),t._v(" "),s("tr",[s("td",[t._v("smove")]),t._v(" "),s("td",[t._v("把key1中的某元素移入key2中")]),t._v(" "),s("td",[t._v("smove key1 key2 value")])])])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" sadd key1 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" sadd key2 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sdiff")]),t._v(" key1 key2\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" sinter key1 key2\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" sunion key1 key2\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"6"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8"')]),t._v("\n")])])]),s("ul",[s("li",[t._v("实战场景\n"),s("ul",[s("li",[s("strong",[t._v("标签")]),t._v("（tag）,给用户添加标签，或者用户给消息添加标签，这样有同一标签或者类似标签的可以给推荐关注的事或者关注的人。")]),t._v(" "),s("li",[s("strong",[t._v("点赞，或点踩，收藏等")]),t._v("，可以放到set中实现")])])])]),t._v(" "),s("h3",{attrs:{id:"有序集合类型-zset"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#有序集合类型-zset"}},[t._v("#")]),t._v(" 有序集合类型(Zset)")]),t._v(" "),s("blockquote",[s("p",[t._v("Redis 有序集合和集合一样也是 string 类型元素的集合,且不允许重复的成员。不同的是每个元素都会关联一个 double 类型的分数。redis 正是通过分数来为集合中的成员进行从小到大的排序")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("命令使用")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("命令")]),t._v(" "),s("th",[t._v("简述")]),t._v(" "),s("th",[t._v("使用")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("zadd")]),t._v(" "),s("td",[t._v("将一个带有给定分值的成员添加到哦有序集合里面")]),t._v(" "),s("td",[t._v("zadd zset-key 178 member1")])]),t._v(" "),s("tr",[s("td",[t._v("zrem")]),t._v(" "),s("td",[t._v("如果给定元素成员存在于有序集合中，那么就移除这个元素")]),t._v(" "),s("td",[t._v("zrem zset-key member1")])]),t._v(" "),s("tr",[s("td",[t._v("zincrby")]),t._v(" "),s("td",[t._v("追加名称对应的分数")]),t._v(" "),s("td",[t._v("zincrby key score column")])]),t._v(" "),s("tr",[s("td",[t._v("zcount")]),t._v(" "),s("td",[t._v("按照分数范围统计个数")]),t._v(" "),s("td",[t._v("zcount key min max")])]),t._v(" "),s("tr",[s("td",[t._v("zrange")]),t._v(" "),s("td",[t._v("按照分数升序输出名称")]),t._v(" "),s("td",[t._v("zrange zset-key 0-1 withscores")])]),t._v(" "),s("tr",[s("td",[t._v("zrevrange")]),t._v(" "),s("td",[t._v("按照分数降序输出名称")]),t._v(" "),s("td",[t._v("zrevrange key start end")])]),t._v(" "),s("tr",[s("td",[t._v("zrank")]),t._v(" "),s("td",[t._v("升序返回排名")]),t._v(" "),s("td",[t._v("zrank key name")])]),t._v(" "),s("tr",[s("td",[t._v("zrevrank")]),t._v(" "),s("td",[t._v("降序返回排名")]),t._v(" "),s("td",[t._v("zrevrank key name")])])])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("命令执行")])])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" zadd key4 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("140")]),t._v(" aaa "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("150")]),t._v(" bbb "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("145")]),t._v(" ccc "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("132")]),t._v(" ddd\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("integer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" zrange key4 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" -1\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ddd"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"aaa"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ccc"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bbb"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" zrange key4 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" -1 withscores\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ddd"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"132"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"aaa"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"140"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ccc"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"145"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bbb"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"150"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" zincrby key4 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" aaa\n"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"150"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1:637"),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("9")]),t._v(">")]),t._v(" zrange key4 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" -1 withscores\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ddd"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"132"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ccc"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"145"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"aaa"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"150"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bbb"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"150"')]),t._v("\n")])])]),s("ul",[s("li",[s("strong",[t._v("实战场景")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("排行榜")]),t._v("：有序集合经典使用场景。例如小说视频等网站需要对用户上传的小说视频做排行榜，榜单可以按照用户关注数，更新时间，字数等打分，做排行")])])])]),t._v(" "),s("h2",{attrs:{id:"参考文章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.pdai.tech/md/db/nosql-redis/db-redis-data-types.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.pdai.tech/md/db/nosql-redis/db-redis-data-types.html"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.cnblogs.com/haoprogrammer/p/11065461.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.cnblogs.com/haoprogrammer/p/11065461.html"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.runoob.com/redis/redis-sorted-sets.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("菜鸟教程 - redis"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=n.exports}}]);