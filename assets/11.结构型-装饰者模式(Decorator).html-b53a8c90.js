import{_ as o}from"./plugin-vue_export-helper-c27b6911.js";import{r as t,o as c,c as l,d as n,e as a,b as s,w as i,a as r}from"./app-d7df2002.js";const u={},d=r(`<h1 id="è£…é¥°-decorator" tabindex="-1"><a class="header-anchor" href="#è£…é¥°-decorator" aria-hidden="true">#</a> è£…é¥°(Decorator)</h1><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>æŒ‡åœ¨ä¸æ”¹å˜ç°æœ‰å¯¹è±¡ç»“æ„çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€åœ°ç»™è¯¥å¯¹è±¡å¢åŠ ä¸€äº›èŒè´£ï¼ˆå³å¢åŠ å…¶é¢å¤–åŠŸèƒ½ï¼‰çš„æ¨¡å¼</p></div><h2 id="è£…é¥°å™¨æ¨¡å¼ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#è£…é¥°å™¨æ¨¡å¼ä»‹ç»" aria-hidden="true">#</a> è£…é¥°ï¨¸æ¨¡å¼ä»‹ç»</h2><p>è£…é¥°å™¨ï¨¸çš„æ ¸å¿ƒå°±æ˜¯åœ¨ <strong>ï¥§æ”¹å˜åŸæœ‰ç±»</strong> çš„åŸºç¡€ä¸Šç»™ç±»æ–°å¢åŠŸèƒ½</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæ‰©å±•ä¸€ä¸ªç±»çš„åŠŸèƒ½ä¼šä½¿ç”¨ç»§æ‰¿æ–¹å¼æ¥å®ç°ã€‚ä½†ç»§æ‰¿å…·æœ‰é™æ€ç‰¹å¾ï¼Œè€¦åˆåº¦é«˜ï¼Œå¹¶ä¸”éšç€æ‰©å±•åŠŸèƒ½çš„å¢å¤šï¼Œå­ç±»ä¼šè¿‡å¤šç­‰é—®é¢˜ã€‚ä½†æ˜¯ä½¿ç”¨è£…é¥°ï¨¸æ¨¡å¼ä¼šæ˜¯å¦å¤–ä¸€ç§æ€ï¤·ï¤ä¸ºçµæ´»ï¼Œå¯ä»¥é¿å…ç»§æ‰¿å¯¼è‡´çš„å­ç±»è¿‡å¤š</p><h2 id="è£…é¥°å™¨çš„ç»“æ„" tabindex="-1"><a class="header-anchor" href="#è£…é¥°å™¨çš„ç»“æ„" aria-hidden="true">#</a> è£…é¥°å™¨çš„ç»“æ„</h2><p>è£…é¥°å™¨ï¨¸ä¸»è¦è§£å†³çš„æ˜¯ç›´æ¥ç»§æ‰¿ä¸‹å› åŠŸèƒ½çš„ä¸æ–­æ¨ªå‘æ‰©å±•å¯¼è‡´å­ç±»è†¨èƒ€çš„é—®é¢˜ï¼Œè€Œä½¿ç”¨è£…é¥°ï¨¸æ¨¡å¼åå°±ä¼šæ¯”ç›´æ¥ç»§æ‰¿æ˜¾å¾—æ›´åŠ çµæ´»åŒæ—¶è¿™æ ·ä¹Ÿå°±ä¸å†éœ€è¦è€ƒè™‘å­ç±»çš„ç»´æŠ¤ã€‚</p><p>è¿™ç§è®¾è®¡æ¨¡å¼åˆ›å»ºäº†ä¸€ä¸ªè£…é¥°ç±»ï¼Œç”¨æ¥åŒ…è£…åŸæœ‰çš„ç±»ï¼Œå¹¶åœ¨ä¿æŒç±»æ–¹æ³•ç­¾åå®Œæ•´æ€§çš„å‰æä¸‹ï¼Œæä¾›äº†é¢å¤–çš„åŠŸèƒ½</p><p>è£…é¥°å™¨æ¨¡å¼ä¸»è¦åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š</p><ol><li>æŠ½è±¡æ„ä»¶ï¼ˆComponentï¼‰è§’è‰²ï¼šå®šä¹‰ä¸€ä¸ª æŠ½è±¡æ¥å£ ä»¥è§„èŒƒå‡†å¤‡æ¥æ”¶é™„åŠ è´£ä»»çš„å¯¹è±¡ã€‚</li><li>å…·ä½“æ„ä»¶ï¼ˆConcreteComponentï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡æ„ä»¶ï¼Œé€šè¿‡è£…é¥°è§’è‰²ä¸ºå…¶æ·»åŠ ä¸€äº›èŒè´£ã€‚</li><li>æŠ½è±¡è£…é¥°ï¼ˆDecoratorï¼‰è§’è‰²ï¼šç»§æ‰¿æŠ½è±¡æ„ä»¶ï¼Œå¹¶åŒ…å«å…·ä½“æ„ä»¶çš„å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡å…¶å­ç±»æ‰©å±•å…·ä½“æ„ä»¶çš„åŠŸèƒ½ã€‚</li><li>å…·ä½“è£…é¥°ï¼ˆConcreteDecoratorï¼‰è§’è‰²ï¼šå®ç°æŠ½è±¡è£…é¥°çš„ç›¸å…³æ–¹æ³•ï¼Œå¹¶ç»™å…·ä½“æ„ä»¶å¯¹è±¡æ·»åŠ é™„åŠ çš„è´£ä»»ã€‚</li></ol><figure><img src="https://media.zenghr.cn/blog/img/20210507/44cmIa2m9SQd.png?imageslim" alt="mark" tabindex="0" loading="lazy"><figcaption>mark</figcaption></figure><h2 id="è£…é¥°å™¨çš„æ¡ˆä¾‹æ¨¡æ‹Ÿ" tabindex="-1"><a class="header-anchor" href="#è£…é¥°å™¨çš„æ¡ˆä¾‹æ¨¡æ‹Ÿ" aria-hidden="true">#</a> è£…é¥°å™¨çš„æ¡ˆä¾‹æ¨¡æ‹Ÿ</h2><p>å¥¶èŒ¶åº—ä¸­æœ‰å„ç§å„æ ·çš„å¥¶èŒ¶ï¼Œçç å¥¶èŒ¶ã€è“è“å¥¶èŒ¶ï¼Œç”¨æˆ·åœ¨è´­ä¹°æ—¶ï¼Œåº—å‘˜ä¼šé—®æ˜¯å¦è¦åŠ  å¸ƒä¸ã€åŠ ç³–ã€çç ç­‰é…æ–™ï¼Œä¸åŒçš„å¥¶èŒ¶é…ä¸åŒçš„ææ–™ï¼Œä»·æ ¼ä¹Ÿä¸ä¸€è‡´ï¼Œä½¿ç”¨è£…é¥°å™¨æ¨¡å¼è®¾è®¡å®ç°ã€‚</p><p><strong>å®šä¹‰æŠ½è±¡æ„ä»¶è§’è‰²ï¼ˆComponentï¼‰- å¥¶èŒ¶ï¼ˆMilkTeaï¼‰</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">MilkTea</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * è·å–æœ€ç»ˆä»·æ ¼
     *
     * <span class="token keyword">@return</span> è¿”å›ä»·æ ¼
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">double</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å®šä¹‰å…·ä½“æ„ä»¶ï¼ˆConcreteComponentï¼‰è§’è‰² - çç å¥¶èŒ¶(PearlTea)</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// çç å¥¶èŒ¶</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PearlTea</span> <span class="token keyword">implements</span> <span class="token class-name">MilkTea</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">20.0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è“è“å¥¶èŒ¶(BlueberryTea)</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BlueberryTea</span> <span class="token keyword">implements</span> <span class="token class-name">MilkTea</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">10.0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å®šä¹‰æŠ½è±¡è£…é¥°ï¼ˆDecoratorï¼‰è§’è‰² - é…æ–™(Decorator)</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">BatchingDecorator</span> <span class="token keyword">implements</span> <span class="token class-name">MilkTea</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">MilkTea</span> milkTea<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å…·ä½“è£…é¥°è€… - å¸ƒä¸(Pudding)</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PuddingDecorator</span> <span class="token keyword">extends</span> <span class="token class-name">BatchingDecorator</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">PuddingDecorator</span><span class="token punctuation">(</span><span class="token class-name">MilkTea</span> milkTea<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>milkTea <span class="token operator">=</span> milkTea<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">5.0</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>milkTea<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å…·ä½“è£…é¥°è€… - ç³–(Sugar)</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SugarDecorator</span> <span class="token keyword">extends</span> <span class="token class-name">BatchingDecorator</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">SugarDecorator</span><span class="token punctuation">(</span><span class="token class-name">MilkTea</span> milkTea<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>milkTea <span class="token operator">=</span> milkTea<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">3.0</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>milkTea<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ¼”ç¤ºæ¡ˆä¾‹</strong></p><p>æˆ‘ä»¬å»å¥¶èŒ¶åº—ä¹°ä¸€æ¯è“è“å¥¶èŒ¶ï¼ŒåŠ ç³–+åŠ å¸ƒä¸ï¼Œè¯·é—®éœ€è¦å¤šå°‘é’±ï¼Ÿ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DecoratorExample</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// è“è“å¥¶èŒ¶</span>
        <span class="token class-name">MilkTea</span> milkTea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BlueberryTea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// å¸ƒä¸ åŒ…è£…ç±»</span>
        milkTea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PuddingDecorator</span><span class="token punctuation">(</span>milkTea<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// åŠ ç³– åŒ…è£…ç±»</span>
        milkTea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SugarDecorator</span><span class="token punctuation">(</span>milkTea<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ€»ä»·æ ¼ è“è“10.0 + å¸ƒä¸5.0 + ç³–3.0 = 18.0</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>milkTea<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è£…é¥°å™¨æ¨¡å¼çš„åº”ç”¨åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#è£…é¥°å™¨æ¨¡å¼çš„åº”ç”¨åœºæ™¯" aria-hidden="true">#</a> è£…é¥°å™¨æ¨¡å¼çš„åº”ç”¨åœºæ™¯</h2><p>è£…é¥°å™¨æ¨¡å¼é€šå¸¸åœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µä½¿ç”¨</p><ul><li>å½“éœ€è¦ç»™ä¸€ä¸ªç°æœ‰ç±»æ·»åŠ é™„åŠ èŒè´£ï¼Œè€Œåˆä¸èƒ½é‡‡ç”¨ç”Ÿæˆå­ç±»çš„æ–¹æ³•è¿›è¡Œæ‰©å……æ—¶ã€‚ä¾‹å¦‚ï¼Œè¯¥ç±»è¢«éšè—æˆ–è€…è¯¥ç±»æ˜¯ç»ˆæç±»æˆ–è€…é‡‡ç”¨ç»§æ‰¿æ–¹å¼ä¼šäº§ç”Ÿå¤§é‡çš„å­ç±»ã€‚</li><li>å½“éœ€è¦é€šè¿‡å¯¹ç°æœ‰çš„ä¸€ç»„åŸºæœ¬åŠŸèƒ½è¿›è¡Œæ’åˆ—ç»„åˆè€Œäº§ç”Ÿéå¸¸å¤šçš„åŠŸèƒ½æ—¶ï¼Œé‡‡ç”¨ç»§æ‰¿å…³ç³»å¾ˆéš¾å®ç°ï¼Œè€Œé‡‡ç”¨è£…é¥°å™¨æ¨¡å¼å´å¾ˆå¥½å®ç°ã€‚</li><li>å½“å¯¹è±¡çš„åŠŸèƒ½è¦æ±‚å¯ä»¥åŠ¨æ€åœ°æ·»åŠ ï¼Œä¹Ÿå¯ä»¥å†åŠ¨æ€åœ°æ’¤é”€æ—¶ã€‚</li></ul><p>è£…é¥°å™¨æ¨¡å¼åœ¨ Java ä¸­çš„æœ€è‘—åçš„åº”ç”¨è«è¿‡äº Java I/O æ ‡å‡†åº“çš„è®¾è®¡äº†ã€‚ä¾‹å¦‚ï¼š</p><ul><li>InputStream çš„å­ç±» FilterInputStream</li><li>OutputStream çš„å­ç±» FilterOutputStream</li><li>Reader çš„å­ç±» BufferedReader ä»¥åŠ FilterReader</li><li>è¿˜æœ‰ Writer çš„å­ç±» BufferedWriterã€FilterWriter ä»¥åŠ PrintWriter ç­‰ï¼Œå®ƒä»¬éƒ½æ˜¯æŠ½è±¡è£…é¥°ç±»</li></ul>`,33),k=n("h2",{id:"å‚è€ƒèµ„æ–™",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#å‚è€ƒèµ„æ–™","aria-hidden":"true"},"#"),a(" å‚è€ƒèµ„æ–™")],-1),v={href:"https://www.pdai.tech/md/dev-spec/pattern/12_decorator.html",target:"_blank",rel:"noopener noreferrer"},m={href:"http://c.biancheng.net/view/1366.html",target:"_blank",rel:"noopener noreferrer"};function b(g,h){const p=t("RouterLink"),e=t("ExternalLinkIcon");return c(),l("div",null,[d,n("p",null,[a("å¦‚éœ€äº†è§£ I/O ç±»ä¸­çš„è£…é¥°å™¨æ¨¡å¼ï¼Œè¯·çœ‹ğŸ‘‰ "),s(p,{to:"/passages/2021-05-06-java-io-decorator-pattern.html"},{default:i(()=>[a("Java - I/O è£…é¥°å™¨æ¨¡å¼")]),_:1})]),k,n("p",null,[n("a",v,[a("ç»“æ„å‹ - è£…é¥°(Decorator) - Java å…¨æ ˆçŸ¥è¯†ä½“ç³»"),s(e)])]),n("p",null,[n("a",m,[a("è£…é¥°å™¨æ¨¡å¼è¯¦è§£ - Cè¯­è¨€ä¸­æ–‡ç½‘"),s(e)])])])}const _=o(u,[["render",b],["__file","11.ç»“æ„å‹-è£…é¥°è€…æ¨¡å¼(Decorator).html.vue"]]);export{_ as default};
