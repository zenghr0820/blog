import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{r as t,o as i,c as l,d as a,e as c,b as o,a as n}from"./app-1e9ebc12.js";const r={},p=n('<h1 id="环境搭建以及-kibana-安装" tabindex="-1"><a class="header-anchor" href="#环境搭建以及-kibana-安装" aria-hidden="true">#</a> 环境搭建以及 Kibana 安装</h1><blockquote><p>本文介绍 Elasticsearch 和 Kibana 的安装，本系列使用的 Elasticsearch 版本是 7.14.0</p></blockquote><table><thead><tr><th>框架</th><th>版本</th></tr></thead><tbody><tr><td><strong>Elasticsearch</strong></td><td><em>7.14.0</em></td></tr><tr><td><strong>Kibana</strong></td><td><em>7.14.0</em></td></tr></tbody></table><h2 id="官方教程" tabindex="-1"><a class="header-anchor" href="#官方教程" aria-hidden="true">#</a> 官方教程</h2>',4),d={href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/getting-started.html",target:"_blank",rel:"noopener noreferrer"},u=n(`<h2 id="安装-elasticsearch" tabindex="-1"><a class="header-anchor" href="#安装-elasticsearch" aria-hidden="true">#</a> 安装 Elasticsearch</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> network create elastic
<span class="token function">docker</span> pull docker.elastic.co/elasticsearch/elasticsearch:7.14.0
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> es01-test <span class="token parameter variable">-p</span> <span class="token number">9200</span>:9200 <span class="token parameter variable">-p</span> <span class="token number">9300</span>:9300 <span class="token parameter variable">-e</span> <span class="token string">&quot;discovery.type=single-node&quot;</span> docker.elastic.co/elasticsearch/elasticsearch:7.14.0
</code></pre><div class="highlight-lines"><br><br><div class="highlight-line"> </div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="配置文件-elasticsearch-yaml" tabindex="-1"><a class="header-anchor" href="#配置文件-elasticsearch-yaml" aria-hidden="true">#</a> 配置文件 elasticsearch.yaml</h2><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">network.host</span><span class="token punctuation">:</span> 0.0.0.0
<span class="token key atrule">http.port</span><span class="token punctuation">:</span> <span class="token number">9200</span>
<span class="token key atrule">discovery.seed_hosts</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[::1]&quot;</span><span class="token punctuation">]</span>
<span class="token key atrule">cluster.initial_master_nodes</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node-1&quot;</span><span class="token punctuation">]</span>
<span class="token comment"># 设置跨域配置</span>
<span class="token key atrule">http.cors.allow-origin</span><span class="token punctuation">:</span> /.<span class="token important">*/</span>
<span class="token key atrule">http.cors.enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">http.cors.allow-headers</span> <span class="token punctuation">:</span> X<span class="token punctuation">-</span>Requested<span class="token punctuation">-</span>With<span class="token punctuation">,</span>X<span class="token punctuation">-</span>Auth<span class="token punctuation">-</span>Token<span class="token punctuation">,</span>Content<span class="token punctuation">-</span>Type<span class="token punctuation">,</span>Content<span class="token punctuation">-</span>Length<span class="token punctuation">,</span>Authorization
<span class="token key atrule">http.cors.allow-credentials</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装-kibana" tabindex="-1"><a class="header-anchor" href="#安装-kibana" aria-hidden="true">#</a> 安装 Kibana</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull docker.elastic.co/kibana/kibana:7.14.0
<span class="token function">docker</span> run <span class="token parameter variable">--name</span> kibana <span class="token parameter variable">-p</span> <span class="token number">5601</span>:5601 <span class="token parameter variable">-e</span> <span class="token string">&quot;ELASTICSEARCH_HOSTS=http://{能访问 elastic 的 ip}:9200&quot;</span> docker.elastic.co/kibana/kibana:7.14.0
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>注意：</strong> 运行 Kibana 需要设置能访问 elastic 的 ip 端口</p></blockquote><h2 id="kibana-设置中文" tabindex="-1"><a class="header-anchor" href="#kibana-设置中文" aria-hidden="true">#</a> Kibana 设置中文</h2><p>kibana 7 中官方加入了中文的选项，只需要在配置文件 <code>kibana.yml</code> 中加入</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">i18n.locale</span><span class="token punctuation">:</span> <span class="token string">&quot;zh-CN&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>进入kibana容器</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> <span class="token operator">&lt;</span>容器 ID<span class="token operator">&gt;</span> /bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>进入配置文件</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vi</span> /opt/kibana/config/kibana.yml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul>`,11);function h(k,b){const s=t("ExternalLinkIcon");return i(),l("div",null,[p,a("ul",null,[a("li",null,[a("a",d,[c("官方安装教程"),o(s)])])]),u])}const g=e(r,[["render",h],["__file","03.Elasticsearch-环境搭建.html.vue"]]);export{g as default};
