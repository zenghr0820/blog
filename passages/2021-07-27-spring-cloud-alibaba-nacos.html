<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SpringCloud Alibaba Nacos | Zenghr</title>
    <meta name="generator" content="VuePress 1.9.10">
    <script type="text/javascript" src="/scripts/baidu-analytics.js" async=""></script>
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="Nacos æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç† å¹³å°">
    <meta name="image" content="https://media.zenghr.cn/blog/img/20210727/XOjON2.png">
    <meta name="twitter:title" content="SpringCloud Alibaba Nacos">
    <meta name="twitter:description" content="Nacos æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç† å¹³å°">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://media.zenghr.cn/blog/img/20210727/XOjON2.png">
    <meta name="twitter:url" content="https://blog.zenghr.cn/passages/2021-07-27-spring-cloud-alibaba-nacos.html">
    <meta property="og:type" content="article">
    <meta property="og:title" content="SpringCloud Alibaba Nacos">
    <meta property="og:description" content="Nacos æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç† å¹³å°">
    <meta property="og:image" content="https://media.zenghr.cn/blog/img/20210727/XOjON2.png">
    <meta property="og:url" content="https://blog.zenghr.cn/passages/2021-07-27-spring-cloud-alibaba-nacos.html">
    <meta property="article:author" content="zenghr">
    <meta property="article:published_time" content="2021-07-27 20:11">
    <meta itemprop="name" content="SpringCloud Alibaba Nacos">
    <meta itemprop="description" content="Nacos æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç† å¹³å°">
    <meta itemprop="image" content="https://media.zenghr.cn/blog/img/20210727/XOjON2.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="google-site-verification" content="YaZkTUj_yooTpG-N5B8hieXvHDRpHs7xfqTLvGl6nHs">
    
    <link rel="preload" href="/assets/css/0.styles.65ca67a0.css" as="style"><link rel="preload" href="/assets/js/app.64d54db0.js" as="script"><link rel="preload" href="/assets/js/2.c07a442e.js" as="script"><link rel="preload" href="/assets/js/1.3405b27d.js" as="script"><link rel="preload" href="/assets/js/59.f70e5404.js" as="script"><link rel="preload" href="/assets/js/25.3d1d1e08.js" as="script"><link rel="prefetch" href="/assets/js/100.912ce938.js"><link rel="prefetch" href="/assets/js/101.a7d160a3.js"><link rel="prefetch" href="/assets/js/102.caf17524.js"><link rel="prefetch" href="/assets/js/103.605b2d7e.js"><link rel="prefetch" href="/assets/js/104.f79fb32f.js"><link rel="prefetch" href="/assets/js/11.8f9794bd.js"><link rel="prefetch" href="/assets/js/12.1c5ed29a.js"><link rel="prefetch" href="/assets/js/13.0ed82e2f.js"><link rel="prefetch" href="/assets/js/14.4ea01dba.js"><link rel="prefetch" href="/assets/js/15.fbe0894d.js"><link rel="prefetch" href="/assets/js/16.19a9d640.js"><link rel="prefetch" href="/assets/js/17.e489f696.js"><link rel="prefetch" href="/assets/js/18.139cd765.js"><link rel="prefetch" href="/assets/js/19.11000689.js"><link rel="prefetch" href="/assets/js/20.0318468f.js"><link rel="prefetch" href="/assets/js/21.517b7170.js"><link rel="prefetch" href="/assets/js/22.c4e44903.js"><link rel="prefetch" href="/assets/js/23.ac9d135d.js"><link rel="prefetch" href="/assets/js/24.20bd45a8.js"><link rel="prefetch" href="/assets/js/26.deba980a.js"><link rel="prefetch" href="/assets/js/27.33b632b3.js"><link rel="prefetch" href="/assets/js/28.7d4d9bd5.js"><link rel="prefetch" href="/assets/js/29.c5546eca.js"><link rel="prefetch" href="/assets/js/3.a4f61934.js"><link rel="prefetch" href="/assets/js/30.f9a5ef07.js"><link rel="prefetch" href="/assets/js/31.84934529.js"><link rel="prefetch" href="/assets/js/32.e81f1958.js"><link rel="prefetch" href="/assets/js/33.6a18e0a5.js"><link rel="prefetch" href="/assets/js/34.ddead825.js"><link rel="prefetch" href="/assets/js/35.eae52630.js"><link rel="prefetch" href="/assets/js/36.098c3f0b.js"><link rel="prefetch" href="/assets/js/37.af7c5e68.js"><link rel="prefetch" href="/assets/js/38.6254d9c8.js"><link rel="prefetch" href="/assets/js/39.ec233731.js"><link rel="prefetch" href="/assets/js/4.532f63f7.js"><link rel="prefetch" href="/assets/js/40.071f50e2.js"><link rel="prefetch" href="/assets/js/41.d29001b9.js"><link rel="prefetch" href="/assets/js/42.3d99210d.js"><link rel="prefetch" href="/assets/js/43.cec0f162.js"><link rel="prefetch" href="/assets/js/44.964feb1f.js"><link rel="prefetch" href="/assets/js/45.789a8501.js"><link rel="prefetch" href="/assets/js/46.ee01d34a.js"><link rel="prefetch" href="/assets/js/47.650a89b3.js"><link rel="prefetch" href="/assets/js/48.375c6c74.js"><link rel="prefetch" href="/assets/js/49.9d19a778.js"><link rel="prefetch" href="/assets/js/5.db15706f.js"><link rel="prefetch" href="/assets/js/50.03d48ac4.js"><link rel="prefetch" href="/assets/js/51.852f258f.js"><link rel="prefetch" href="/assets/js/52.abd5846b.js"><link rel="prefetch" href="/assets/js/53.6419ee4f.js"><link rel="prefetch" href="/assets/js/54.f764ba2d.js"><link rel="prefetch" href="/assets/js/55.5e5e2a5f.js"><link rel="prefetch" href="/assets/js/56.3c165b36.js"><link rel="prefetch" href="/assets/js/57.d495890f.js"><link rel="prefetch" href="/assets/js/58.023b87bb.js"><link rel="prefetch" href="/assets/js/6.78b0768f.js"><link rel="prefetch" href="/assets/js/60.35defa53.js"><link rel="prefetch" href="/assets/js/61.abcbd9d8.js"><link rel="prefetch" href="/assets/js/62.99e33701.js"><link rel="prefetch" href="/assets/js/63.151779c7.js"><link rel="prefetch" href="/assets/js/64.e4f55856.js"><link rel="prefetch" href="/assets/js/65.bf241838.js"><link rel="prefetch" href="/assets/js/66.ce48e90c.js"><link rel="prefetch" href="/assets/js/67.d7debb27.js"><link rel="prefetch" href="/assets/js/68.589cb6bd.js"><link rel="prefetch" href="/assets/js/69.79f318b2.js"><link rel="prefetch" href="/assets/js/7.e0df81bc.js"><link rel="prefetch" href="/assets/js/70.e9503608.js"><link rel="prefetch" href="/assets/js/71.4a814ab7.js"><link rel="prefetch" href="/assets/js/72.e15b5624.js"><link rel="prefetch" href="/assets/js/73.acb970bb.js"><link rel="prefetch" href="/assets/js/74.c322b654.js"><link rel="prefetch" href="/assets/js/75.fbec8e80.js"><link rel="prefetch" href="/assets/js/76.316cd05b.js"><link rel="prefetch" href="/assets/js/77.84ade49e.js"><link rel="prefetch" href="/assets/js/78.67384de6.js"><link rel="prefetch" href="/assets/js/79.fd1d8fb5.js"><link rel="prefetch" href="/assets/js/8.7d5c9344.js"><link rel="prefetch" href="/assets/js/80.ca9465c3.js"><link rel="prefetch" href="/assets/js/81.138332ff.js"><link rel="prefetch" href="/assets/js/82.d1b3a5df.js"><link rel="prefetch" href="/assets/js/83.3969a698.js"><link rel="prefetch" href="/assets/js/84.2d368f4c.js"><link rel="prefetch" href="/assets/js/85.5f233a6e.js"><link rel="prefetch" href="/assets/js/86.e08dfdb5.js"><link rel="prefetch" href="/assets/js/87.90b5e542.js"><link rel="prefetch" href="/assets/js/88.62bf4a3d.js"><link rel="prefetch" href="/assets/js/89.55b908fe.js"><link rel="prefetch" href="/assets/js/90.17c8dd81.js"><link rel="prefetch" href="/assets/js/91.c004502f.js"><link rel="prefetch" href="/assets/js/92.25ab935a.js"><link rel="prefetch" href="/assets/js/93.a0cdd52e.js"><link rel="prefetch" href="/assets/js/94.1574109e.js"><link rel="prefetch" href="/assets/js/95.b73190ac.js"><link rel="prefetch" href="/assets/js/96.2bb09bf0.js"><link rel="prefetch" href="/assets/js/97.ed55a7d1.js"><link rel="prefetch" href="/assets/js/98.4eb1c25a.js"><link rel="prefetch" href="/assets/js/99.ad223958.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.5e77459f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.65ca67a0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Zenghr</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  æœ€æ–°
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java åŸºç¡€ä¸é¢å‘å¯¹è±¡</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-04-09-java-lan-basic.html" class="nav-link">
  Java åŸºç¡€çŸ¥è¯†
</a></li><li class="dropdown-subitem"><a href="/passages/2021-04-09-java-basic-oop.html" class="nav-link">
  Java é¢å‘å¯¹è±¡
</a></li></ul></li><li class="dropdown-item"><h4>Javaè¿›é˜¶ - é›†åˆæ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-04-25-java-collection-frame.html" class="nav-link">
  Java é›†åˆæ¡†æ¶
</a></li></ul></li><li class="dropdown-item"><h4>Javaè¿›é˜¶ - IOæ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-05-05-java-io-basic.html" class="nav-link">
  Java I/OçŸ¥è¯†è¯¦è§£
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring" class="dropdown-title"><span class="title">Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/2021-07-21-activiti7-note.html" class="nav-link">
  Activity7 ç³»åˆ—
</a></li><li class="dropdown-item"><!----> <a href="/passages/2021-08-18-springboot-argument-resolver.html" class="nav-link">
  SpringBoot ç³»åˆ—
</a></li><li class="dropdown-item"><!----> <a href="/passages/2021-07-27-spring-cloud-alibaba.html" class="nav-link">
  Spring Cloud åŸºç¡€
</a></li></ul></div></div><div class="nav-item"><a href="/passages/go-catalog.html" class="nav-link">
  Golang
</a></div><div class="nav-item"><a href="/passages/2020-08-12-kubernetes-deploy-ready.html" class="nav-link">
  Kubernetes
</a></div><div class="nav-item"><a href="/passages/2020-02-25-nginx-install.html" class="nav-link">
  Linuxç³»åˆ—
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¼€å‘ç¯å¢ƒ" class="dropdown-title"><span class="title">å¼€å‘ç¯å¢ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/tool-list-overview.html" class="nav-link">
  å¼€å‘å·¥å…·
</a></li><li class="dropdown-item"><!----> <a href="/passages/2021-06-28-git-common-cmd.html" class="nav-link">
  git ç¯å¢ƒ
</a></li><li class="dropdown-item"><h4>æ•°æ®åº“ç³»åˆ—</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-06-29-mysql-manage-auth.html" class="nav-link">
  mysql ç¯å¢ƒ
</a></li><li class="dropdown-subitem"><a href="/passages/2021-08-02-redis-overview.html" class="nav-link">
  Redis çŸ¥è¯†ä½“ç³»
</a></li><li class="dropdown-subitem"><a href="/passages/2021-08-15-mongo-overview.html" class="nav-link">
  Mongo çŸ¥è¯†ä½“ç³»
</a></li><li class="dropdown-subitem"><a href="/passages/2021-08-06-elasticsearch.html" class="nav-link">
  Elasticsearch çŸ¥è¯†ä½“ç³»
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¼€å‘æŒ‡å—" class="dropdown-title"><span class="title">å¼€å‘æŒ‡å—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/code-spec-alibaba.html" class="nav-link">
  ä»£ç è§„èŒƒ
</a></li><li class="dropdown-item"><!----> <a href="/passages/dev-pattern-overview.html" class="nav-link">
  è®¾è®¡æ¨¡å¼è¯¦è§£
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶å®ƒ" class="dropdown-title"><span class="title">å…¶å®ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/2020-01-18-first-blog.html" class="nav-link">
  ç”Ÿæ´»é—²è°ˆ
</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">
  å‹æƒ…é“¾æ¥
</a></li></ul></div></div> <a href="https://github.com/zenghr0820/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  æœ€æ–°
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java åŸºç¡€ä¸é¢å‘å¯¹è±¡</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-04-09-java-lan-basic.html" class="nav-link">
  Java åŸºç¡€çŸ¥è¯†
</a></li><li class="dropdown-subitem"><a href="/passages/2021-04-09-java-basic-oop.html" class="nav-link">
  Java é¢å‘å¯¹è±¡
</a></li></ul></li><li class="dropdown-item"><h4>Javaè¿›é˜¶ - é›†åˆæ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-04-25-java-collection-frame.html" class="nav-link">
  Java é›†åˆæ¡†æ¶
</a></li></ul></li><li class="dropdown-item"><h4>Javaè¿›é˜¶ - IOæ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-05-05-java-io-basic.html" class="nav-link">
  Java I/OçŸ¥è¯†è¯¦è§£
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring" class="dropdown-title"><span class="title">Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/2021-07-21-activiti7-note.html" class="nav-link">
  Activity7 ç³»åˆ—
</a></li><li class="dropdown-item"><!----> <a href="/passages/2021-08-18-springboot-argument-resolver.html" class="nav-link">
  SpringBoot ç³»åˆ—
</a></li><li class="dropdown-item"><!----> <a href="/passages/2021-07-27-spring-cloud-alibaba.html" class="nav-link">
  Spring Cloud åŸºç¡€
</a></li></ul></div></div><div class="nav-item"><a href="/passages/go-catalog.html" class="nav-link">
  Golang
</a></div><div class="nav-item"><a href="/passages/2020-08-12-kubernetes-deploy-ready.html" class="nav-link">
  Kubernetes
</a></div><div class="nav-item"><a href="/passages/2020-02-25-nginx-install.html" class="nav-link">
  Linuxç³»åˆ—
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¼€å‘ç¯å¢ƒ" class="dropdown-title"><span class="title">å¼€å‘ç¯å¢ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/tool-list-overview.html" class="nav-link">
  å¼€å‘å·¥å…·
</a></li><li class="dropdown-item"><!----> <a href="/passages/2021-06-28-git-common-cmd.html" class="nav-link">
  git ç¯å¢ƒ
</a></li><li class="dropdown-item"><h4>æ•°æ®åº“ç³»åˆ—</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-06-29-mysql-manage-auth.html" class="nav-link">
  mysql ç¯å¢ƒ
</a></li><li class="dropdown-subitem"><a href="/passages/2021-08-02-redis-overview.html" class="nav-link">
  Redis çŸ¥è¯†ä½“ç³»
</a></li><li class="dropdown-subitem"><a href="/passages/2021-08-15-mongo-overview.html" class="nav-link">
  Mongo çŸ¥è¯†ä½“ç³»
</a></li><li class="dropdown-subitem"><a href="/passages/2021-08-06-elasticsearch.html" class="nav-link">
  Elasticsearch çŸ¥è¯†ä½“ç³»
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¼€å‘æŒ‡å—" class="dropdown-title"><span class="title">å¼€å‘æŒ‡å—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/code-spec-alibaba.html" class="nav-link">
  ä»£ç è§„èŒƒ
</a></li><li class="dropdown-item"><!----> <a href="/passages/dev-pattern-overview.html" class="nav-link">
  è®¾è®¡æ¨¡å¼è¯¦è§£
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶å®ƒ" class="dropdown-title"><span class="title">å…¶å®ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/2020-01-18-first-blog.html" class="nav-link">
  ç”Ÿæ´»é—²è°ˆ
</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">
  å‹æƒ…é“¾æ¥
</a></li></ul></div></div> <a href="https://github.com/zenghr0820/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>SpringBoot</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/passages/2021-08-18-springboot-argument-resolver.html" class="sidebar-link">è‡ªå®šä¹‰å‚æ•°è§£æå™¨</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Spring Cloud Alibaba</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/passages/2021-07-27-spring-cloud-alibaba.html" class="sidebar-link">SpringCloud-Alibabaä»‹ç»</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html" aria-current="page" class="active sidebar-link">SpringCloud-Alibaba-Nacos</a></li><li><a href="/passages/2021-09-02-spring-cloud-openfeign.html" class="sidebar-link">SpringCloud-OpenFeign</a></li><li><a href="/passages/2021-07-29-spring-cloud-gateway.html" class="sidebar-link">SpringCloud-Gateway</a></li><li><a href="/passages/2021-07-27-spring-cloud-error.html" class="sidebar-link">SpringCloud-è¶Ÿå‘è®°å½•</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="springcloud-alibaba-nacos"><a href="#springcloud-alibaba-nacos" class="header-anchor">#</a> SpringCloud Alibaba Nacos</h1> <p><strong>Nacos</strong> æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç† å¹³å°</p> <p><strong>å‚è€ƒæ–‡æ¡£å¦‚ä¸‹ğŸ‘‡</strong></p> <blockquote><p>Nacos å®˜ç½‘æ–‡æ¡£åœ°å€ï¼š<a href="https://nacos.io/zh-cn/docs/what-is-nacos.html" target="_blank" rel="noopener noreferrer">https://nacos.io/zh-cn/docs/what-is-nacos.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Nacos Spring Cloud å¿«é€Ÿå¼€å§‹ï¼š<a href="https://nacos.io/zh-cn/docs/quick-start-spring-cloud.html" target="_blank" rel="noopener noreferrer">https://nacos.io/zh-cn/docs/quick-start-spring-cloud.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="nacos-æ­å»º"><a href="#nacos-æ­å»º" class="header-anchor">#</a> Nacos æ­å»º</h2> <p>æ ¹æ® Nacos å®˜ç½‘çš„ç‰ˆæœ¬é€‰æ‹©æè¿°ä¸­ï¼Œå¯ä»¥æ ¹æ® <a href="https://github.com/alibaba/nacos/releases" target="_blank" rel="noopener noreferrer">releases<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¸­æ‰¾åˆ°æ¯ä¸ªç‰ˆæœ¬çš„ä»‹ç»ï¼ŒSpring Cloud ç‰ˆæœ¬å¯¹åº”å…³ç³»å¯ä»¥æŸ¥çœ‹ <a href="https://github.com/alibaba/spring-cloud-alibaba/wiki/%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener noreferrer">ç‰ˆæœ¬è¯´æ˜Wiki<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="è·å–-nacos"><a href="#è·å–-nacos" class="header-anchor">#</a> è·å– Nacos</h3> <ul><li>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/alibaba/nacos/releases" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/nacos/releases<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>æ­å»ºæ–‡æ¡£ï¼š<a href="https://nacos.io/zh-cn/docs/quick-start.html" target="_blank" rel="noopener noreferrer">https://nacos.io/zh-cn/docs/quick-start.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="å¯åŠ¨ã€å…³é—­æœåŠ¡"><a href="#å¯åŠ¨ã€å…³é—­æœåŠ¡" class="header-anchor">#</a> å¯åŠ¨ã€å…³é—­æœåŠ¡</h3> <p><strong>Linux/Unix/Mac</strong></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># Linux/Unix/Mac</span>
<span class="token comment"># å¯åŠ¨å‘½ä»¤(standaloneä»£è¡¨ç€å•æœºæ¨¡å¼è¿è¡Œï¼Œéé›†ç¾¤æ¨¡å¼):</span>
<span class="token function">sh</span> startup.sh <span class="token parameter variable">-m</span> standalone
<span class="token function">sh</span> shutdown.sh
</code></pre></div><p><strong>Window</strong></p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># å¯åŠ¨å‘½ä»¤(standaloneä»£è¡¨ç€å•æœºæ¨¡å¼è¿è¡Œï¼Œéé›†ç¾¤æ¨¡å¼):</span>
startup.cmd <span class="token parameter variable">-m</span> standalone
shutdown.cmd
</code></pre></div><h3 id="è®¿é—®-nacos-åå°ç•Œé¢"><a href="#è®¿é—®-nacos-åå°ç•Œé¢" class="header-anchor">#</a> è®¿é—® Nacos åå°ç•Œé¢</h3> <p>å½“æˆ‘ä»¬çš„ Nacos è¿è¡Œèµ·æ¥æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—® <a href="http://127.0.0.1:8848/nacos" target="_blank" rel="noopener noreferrer">http://127.0.0.1:8848/nacos<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> åœ°å€ï¼Œè¾“å…¥è´¦å·å¯†ç ï¼š<strong><code>nacos</code></strong> ç™»å½•ç³»ç»Ÿ</p> <p><img src="https://media.zenghr.cn/blog/img/20210727/XOjON2.png" alt="XOjON2"></p> <p><img src="https://media.zenghr.cn/blog/img/20210727/ZoWv68.png" alt="ZoWv68"></p> <h2 id="ç¯å¢ƒè¯´æ˜"><a href="#ç¯å¢ƒè¯´æ˜" class="header-anchor">#</a> ç¯å¢ƒè¯´æ˜</h2> <div class="custom-block tip"><p><strong>Spring Cloudï¼š</strong> 2020.0.3</p> <p><strong>Nacosï¼š</strong> 14.2</p> <p><strong>spring-cloud-alibabaï¼š</strong> 2021.1</p></div> <p>å…³äº Nacos Spring Cloud çš„è¯¦ç»†æ–‡æ¡£è¯·å‚çœ‹ï¼š<a href="https://github.com/spring-cloud-incubator/spring-cloud-alibaba/wiki/Nacos-config" target="_blank" rel="noopener noreferrer">Nacos Config<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å’Œ <a href="https://github.com/spring-cloud-incubator/spring-cloud-alibaba/wiki/Nacos-discovery" target="_blank" rel="noopener noreferrer">Nacos Discovery<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <ul><li>é€šè¿‡ Nacos Server å’Œ spring-cloud-starter-alibaba-nacos-config å®ç°é…ç½®çš„åŠ¨æ€å˜æ›´ã€‚</li> <li>é€šè¿‡ Nacos Server å’Œ spring-cloud-starter-alibaba-nacos-discovery å®ç°æœåŠ¡çš„æ³¨å†Œä¸å‘ç°ã€‚</li></ul> <h2 id="æœåŠ¡å‘ç°æ˜¯ä»€ä¹ˆ"><a href="#æœåŠ¡å‘ç°æ˜¯ä»€ä¹ˆ" class="header-anchor">#</a> æœåŠ¡å‘ç°æ˜¯ä»€ä¹ˆ</h2> <h3 id="æœåŠ¡æä¾›è€…ä¸æœåŠ¡æ¶ˆè´¹è€…"><a href="#æœåŠ¡æä¾›è€…ä¸æœåŠ¡æ¶ˆè´¹è€…" class="header-anchor">#</a> æœåŠ¡æä¾›è€…ä¸æœåŠ¡æ¶ˆè´¹è€…</h3> <ul><li>æœåŠ¡æä¾›è€…ï¼šæœåŠ¡çš„è¢«è°ƒç”¨æ–¹ï¼ˆå³ï¼šä¸ºå…¶ä»–å¾®æœåŠ¡æä¾›æ¥å£çš„å¾®æœåŠ¡ï¼‰</li> <li>æœåŠ¡æ¶ˆè´¹è€…ï¼šæœåŠ¡çš„è°ƒç”¨æ–¹ï¼ˆå³ï¼šè°ƒç”¨å…¶ä»–å¾®æœåŠ¡æ¥å£çš„å¾®æœåŠ¡ï¼‰</li></ul> <h3 id="æœåŠ¡å‘ç°åŸç†"><a href="#æœåŠ¡å‘ç°åŸç†" class="header-anchor">#</a> æœåŠ¡å‘ç°åŸç†</h3> <ul><li>æœåŠ¡å‘ç°æœºåˆ¶å°±æ˜¯é€šè¿‡ä¸€ä¸ªä¸­é—´ä»¶å»è®°å½•æœåŠ¡æä¾›è€…çš„ipåœ°å€ï¼ŒæœåŠ¡åä»¥åŠå¿ƒè·³ç­‰æ•°æ®ï¼ˆæ¯”å¦‚ç”¨mysqlå»å­˜å‚¨è¿™äº›ä¿¡æ¯ï¼‰ï¼Œç„¶åæœåŠ¡æ¶ˆè´¹è€…ä¼šå»è¿™ä¸ªä¸­é—´å¹³å°å»æŸ¥è¯¢ç›¸å…³ä¿¡æ¯ï¼Œç„¶åå†å»è®¿é—®å¯¹åº”çš„åœ°å€ï¼Œè¿™å°±æ˜¯æœåŠ¡æ³¨å†Œå’ŒæœåŠ¡å‘ç°ã€‚</li> <li>å½“ç”¨æˆ·åœ°å€å‘ç”Ÿäº†å˜åŒ–ä¹Ÿæ²¡æœ‰å½±å“ï¼Œå› ä¸ºæœåŠ¡æä¾›æ–¹ä¿®æ”¹äº†ç”¨æˆ·åœ°å€ï¼Œåœ¨ä¸­é—´ä»¶ä¸­ä¼šè¢«æ›´æ–°ï¼Œå½“æœåŠ¡æ¶ˆè´¹æ–¹å»è®¿é—®ä¸­é—´ä»¶æ—¶å°±èƒ½åŠæ—¶è·å–æœ€æ–°çš„ç”¨æˆ·åœ°å€ï¼Œå°±ä¸ä¼šå‡ºç°ç”¨æˆ·åœ°å€å‘ç”Ÿå˜åŒ–å¯¼è‡´æœåŠ¡æ‰¾ä¸åˆ°</li></ul> <h2 id="å¯åŠ¨æœåŠ¡å‘ç°"><a href="#å¯åŠ¨æœåŠ¡å‘ç°" class="header-anchor">#</a> å¯åŠ¨æœåŠ¡å‘ç°</h2> <p>æˆ‘ä»¬é€šè¿‡ spring-cloud-starter-alibaba-nacos-discovery æ¥å®ç°æœåŠ¡æ³¨å†Œå’Œå‘ç°</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>æ³¨æ„ï¼šå¦‚æœä½ çš„ Spring Cloud ç‰ˆæœ¬æ˜¯ 2020ï¼Œé‚£ä¹ˆ é…ç½®æ–‡ä»¶ <strong>bootstrap.yml</strong> å°†ä¼šä¸èµ·ä½œç”¨ï¼Œä¼šå¯¼è‡´ nacos çš„é…ç½®ç®¡ç†ã€æœåŠ¡å‘ç°ç­‰é…ç½®å¤±æ•ˆï¼Œéœ€è¦æ·»åŠ ä¾èµ–ï¼Œè¯¦ç»†æ–¹æ¡ˆè¯·çœ‹ <a href="/passages/2021-07-27-spring-cloud-error.html#spring-cloud-2020-bootstrap-é…ç½®æ–‡ä»¶å¤±æ•ˆ">Spring Cloud è¶Ÿå‘è®°å½•</a></p></div> <h3 id="æ·»åŠ ä¾èµ–"><a href="#æ·»åŠ ä¾èµ–" class="header-anchor">#</a> æ·»åŠ ä¾èµ–</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- nacos æœåŠ¡å‘ç° --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>æ›´å¤šç‰ˆæœ¬å¯¹åº”å…³ç³»å‚è€ƒï¼š<a href="https://github.com/spring-cloud-incubator/spring-cloud-alibaba/wiki/%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener noreferrer">ç‰ˆæœ¬è¯´æ˜ Wiki<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="æ·»åŠ é…ç½®"><a href="#æ·»åŠ é…ç½®" class="header-anchor">#</a> æ·»åŠ é…ç½®</h3> <p>é€šè¿‡ Nacos çš„æœåŠ¡æ³¨å†Œå‘ç°åŠŸèƒ½å°†å…¶æœåŠ¡æ³¨å†Œåˆ° Nacos server ä¸Š</p> <p><strong>åœ¨ <code>bootstrap.yml</code> ä¸­é…ç½® Nacos server çš„åœ°å€</strong></p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">8848</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> mall<span class="token punctuation">-</span>order
</code></pre></div><blockquote><p>æ³¨æ„ï¼šéœ€è¦é…ç½® application.name å±æ€§ï¼Œå› ä¸º Nacos æ³¨å†ŒæœåŠ¡é»˜è®¤å– <strong>${spring.application.name}</strong> çš„å€¼</p></blockquote> <h3 id="æ·»åŠ æ³¨è§£"><a href="#æ·»åŠ æ³¨è§£" class="header-anchor">#</a> æ·»åŠ æ³¨è§£</h3> <p><strong>æ—©æœŸåœ¨å¯åŠ¨ç±»ä¸Šéœ€è¦åŠ ä¸Š @EnableDiscoveryClientæ³¨è§£ï¼Œç°åœ¨å·²ç»å¯ä»¥ä¸éœ€è¦åŠ äº†</strong></p> <p><img src="https://media.zenghr.cn/blog/img/20210727/Hpj6v9.png" alt="Hpj6v9"></p> <h2 id="å¯åŠ¨é…ç½®ç®¡ç†"><a href="#å¯åŠ¨é…ç½®ç®¡ç†" class="header-anchor">#</a> å¯åŠ¨é…ç½®ç®¡ç†</h2> <p>æˆ‘ä»¬é€šè¿‡ Nacos Server å’Œ <strong>spring-cloud-starter-alibaba-nacos-config</strong> å®ç°é…ç½®çš„åŠ¨æ€å˜æ›´</p> <h3 id="æ·»åŠ ä¾èµ–-2"><a href="#æ·»åŠ ä¾èµ–-2" class="header-anchor">#</a> æ·»åŠ ä¾èµ–</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- nacos é…ç½®ä¸­å¿ƒ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-alibaba-nacos-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>æ›´å¤šç‰ˆæœ¬å¯¹åº”å…³ç³»å‚è€ƒï¼š<a href="https://github.com/spring-cloud-incubator/spring-cloud-alibaba/wiki/%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener noreferrer">ç‰ˆæœ¬è¯´æ˜ Wiki<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="æ·»åŠ é…ç½®-2"><a href="#æ·»åŠ é…ç½®-2" class="header-anchor">#</a> æ·»åŠ é…ç½®</h3> <p><strong>åœ¨ <code>bootstrap.properties</code> ä¸­é…ç½® Nacos server çš„åœ°å€å’Œåº”ç”¨å</strong></p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">8848</span>
      <span class="token key atrule">config</span><span class="token punctuation">:</span>
        <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">8848</span>
        <span class="token key atrule">file-extension</span><span class="token punctuation">:</span> yaml
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> mall<span class="token punctuation">-</span>order
</code></pre></div><div class="custom-block tip"><p>è¯´æ˜ï¼šä¹‹æ‰€ä»¥éœ€è¦é…ç½® <code>spring.application.name</code> ï¼Œæ˜¯å› ä¸ºå®ƒæ˜¯æ„æˆ Nacos é…ç½®ç®¡ç† <code>dataId</code>å­—æ®µçš„ä¸€éƒ¨åˆ†</p> <p><strong>dataId = ${prefix}-${spring.profiles.active}.${file-extension}</strong></p></div> <ul><li><strong>prefixï¼š</strong>  é»˜è®¤ä¸º <code>spring.application.name</code> çš„å€¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é…ç½®é¡¹ <code>spring.cloud.nacos.config.prefix</code>æ¥é…ç½®ã€‚</li> <li><strong>spring.profiles.activeï¼š</strong> å³ä¸ºå½“å‰ç¯å¢ƒå¯¹åº”çš„ profileï¼Œè¯¦æƒ…å¯ä»¥å‚è€ƒ <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-profiles.html#boot-features-profiles" target="_blank" rel="noopener noreferrer">Spring Bootæ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚ <strong>æ³¨æ„ï¼šå½“ spring.profiles.active ä¸ºç©ºæ—¶ï¼Œå¯¹åº”çš„è¿æ¥ç¬¦ <code>-</code> ä¹Ÿå°†ä¸å­˜åœ¨ï¼ŒdataId çš„æ‹¼æ¥æ ¼å¼å˜æˆ <code>${prefix}.${file-extension}</code></strong></li> <li><strong>file-exetensionï¼š</strong> ä¸ºé…ç½®å†…å®¹çš„æ•°æ®æ ¼å¼ï¼Œå¯ä»¥é€šè¿‡é…ç½®é¡¹ <code>spring.cloud.nacos.config.file-extension</code> æ¥é…ç½®ã€‚ç›®å‰åªæ”¯æŒ <code>properties</code> å’Œ <code>yaml</code> ç±»å‹ã€‚</li></ul> <blockquote><p>å³ï¼Œé‡‡ç”¨ä¸Šè¿°é…ç½®ï¼Œ<code>nacosconfig</code> ä¼šä» Nacos Server è¯»å– Data Id ä¸º <code>nacosconfig.yaml</code> çš„é…ç½®ã€‚</p></blockquote> <h3 id="nacos-æ§åˆ¶å°æ·»åŠ é…ç½®æ–‡ä»¶"><a href="#nacos-æ§åˆ¶å°æ·»åŠ é…ç½®æ–‡ä»¶" class="header-anchor">#</a> Nacos æ§åˆ¶å°æ·»åŠ é…ç½®æ–‡ä»¶</h3> <p>åœ¨ Nacos æ§åˆ¶å°æ·»åŠ ä¸€ä¸ªæ–°çš„é…ç½®ï¼Œå…¶ä¸­ï¼š</p> <ul><li>Data Idï¼š<code>nacosconfig</code></li> <li>Groupï¼š<code>DEFAULT_GROUP</code></li> <li>é…ç½®æ ¼å¼ï¼š<code>YAML</code></li></ul> <p><img src="https://media.zenghr.cn/blog/img/20210727/JnlTaf.png" alt="JnlTaf"></p> <p><img src="https://media.zenghr.cn/blog/img/20210727/hlPcGj.png" alt="hlPcGj"></p> <h3 id="è¯»å–-nacos-å˜é‡é…ç½®"><a href="#è¯»å–-nacos-å˜é‡é…ç½®" class="header-anchor">#</a> è¯»å– Nacos å˜é‡é…ç½®</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RefreshScope</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigController</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">ConfigController</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${order.name:test}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/config&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;get order config value from nacos: {}&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><strong>RefreshScopeï¼š</strong> å®ç°é…ç½®è‡ªåŠ¨æ›´æ–°ï¼Œåœ¨ nacos ä¸­ä¿®æ”¹äº†é…ç½®ï¼Œä¼šåŠ¨æ€æ›´æ–°æ•°æ®</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zenghr0820/blog/edit/master/docs/Spring/05.Spring Cloud Alibaba/02.SpringCloud-Alibaba-Nacos.md" target="_blank" rel="noopener noreferrer">åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/passages/2021-07-27-spring-cloud-alibaba.html" class="prev">
        SpringCloud-Alibabaä»‹ç»
      </a></span> <span class="next"><a href="/passages/2021-09-02-spring-cloud-openfeign.html">
        SpringCloud-OpenFeign
      </a>
      â†’
    </span></p></div> <aside class="page-sidebar"><div class="page-side-toolbar"><div class="option-box-toc-fixed"><div class="toc-container-sidebar"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="max-height:650px"><div style="font-weight:bold;text-align:center;">SpringCloud Alibaba Nacos</div> <hr> <div class="toc-box"><ul class="toc-sidebar-links"><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#nacos-æ­å»º" class="toc-sidebar-link">Nacos æ­å»º</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#è·å–-nacos" class="toc-sidebar-link">è·å– Nacos</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#å¯åŠ¨ã€å…³é—­æœåŠ¡" class="toc-sidebar-link">å¯åŠ¨ã€å…³é—­æœåŠ¡</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#è®¿é—®-nacos-åå°ç•Œé¢" class="toc-sidebar-link">è®¿é—® Nacos åå°ç•Œé¢</a></li></ul></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#ç¯å¢ƒè¯´æ˜" class="toc-sidebar-link">ç¯å¢ƒè¯´æ˜</a> <ul class="toc-sidebar-sub-headers"></ul></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æœåŠ¡å‘ç°æ˜¯ä»€ä¹ˆ" class="toc-sidebar-link">æœåŠ¡å‘ç°æ˜¯ä»€ä¹ˆ</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æœåŠ¡æä¾›è€…ä¸æœåŠ¡æ¶ˆè´¹è€…" class="toc-sidebar-link">æœåŠ¡æä¾›è€…ä¸æœåŠ¡æ¶ˆè´¹è€…</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æœåŠ¡å‘ç°åŸç†" class="toc-sidebar-link">æœåŠ¡å‘ç°åŸç†</a></li></ul></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#å¯åŠ¨æœåŠ¡å‘ç°" class="toc-sidebar-link">å¯åŠ¨æœåŠ¡å‘ç°</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æ·»åŠ ä¾èµ–" class="toc-sidebar-link">æ·»åŠ ä¾èµ–</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æ·»åŠ é…ç½®" class="toc-sidebar-link">æ·»åŠ é…ç½®</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æ·»åŠ æ³¨è§£" class="toc-sidebar-link">æ·»åŠ æ³¨è§£</a></li></ul></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#å¯åŠ¨é…ç½®ç®¡ç†" class="toc-sidebar-link">å¯åŠ¨é…ç½®ç®¡ç†</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æ·»åŠ ä¾èµ–-2" class="toc-sidebar-link">æ·»åŠ ä¾èµ–</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æ·»åŠ é…ç½®-2" class="toc-sidebar-link">æ·»åŠ é…ç½®</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#nacos-æ§åˆ¶å°æ·»åŠ é…ç½®æ–‡ä»¶" class="toc-sidebar-link">Nacos æ§åˆ¶å°æ·»åŠ é…ç½®æ–‡ä»¶</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#è¯»å–-nacos-å˜é‡é…ç½®" class="toc-sidebar-link">è¯»å– Nacos å˜é‡é…ç½®</a></li></ul></li></ul></div></div></div></div></div> <div class="option-box option-box-toc-over"><img src="/toc.png" class="nozoom" style="pointer-events: none; width: 20px"> <span class="show-txt">ç›®å½•</span> <div class="toc-container"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="max-height:550px"><div style="font-weight:bold;text-align:center;">SpringCloud Alibaba Nacos</div> <hr> <div class="toc-box"><ul class="toc-sidebar-links"><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#nacos-æ­å»º" class="toc-sidebar-link">Nacos æ­å»º</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#è·å–-nacos" class="toc-sidebar-link">è·å– Nacos</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#å¯åŠ¨ã€å…³é—­æœåŠ¡" class="toc-sidebar-link">å¯åŠ¨ã€å…³é—­æœåŠ¡</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#è®¿é—®-nacos-åå°ç•Œé¢" class="toc-sidebar-link">è®¿é—® Nacos åå°ç•Œé¢</a></li></ul></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#ç¯å¢ƒè¯´æ˜" class="toc-sidebar-link">ç¯å¢ƒè¯´æ˜</a> <ul class="toc-sidebar-sub-headers"></ul></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æœåŠ¡å‘ç°æ˜¯ä»€ä¹ˆ" class="toc-sidebar-link">æœåŠ¡å‘ç°æ˜¯ä»€ä¹ˆ</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æœåŠ¡æä¾›è€…ä¸æœåŠ¡æ¶ˆè´¹è€…" class="toc-sidebar-link">æœåŠ¡æä¾›è€…ä¸æœåŠ¡æ¶ˆè´¹è€…</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æœåŠ¡å‘ç°åŸç†" class="toc-sidebar-link">æœåŠ¡å‘ç°åŸç†</a></li></ul></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#å¯åŠ¨æœåŠ¡å‘ç°" class="toc-sidebar-link">å¯åŠ¨æœåŠ¡å‘ç°</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æ·»åŠ ä¾èµ–" class="toc-sidebar-link">æ·»åŠ ä¾èµ–</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æ·»åŠ é…ç½®" class="toc-sidebar-link">æ·»åŠ é…ç½®</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æ·»åŠ æ³¨è§£" class="toc-sidebar-link">æ·»åŠ æ³¨è§£</a></li></ul></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#å¯åŠ¨é…ç½®ç®¡ç†" class="toc-sidebar-link">å¯åŠ¨é…ç½®ç®¡ç†</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æ·»åŠ ä¾èµ–-2" class="toc-sidebar-link">æ·»åŠ ä¾èµ–</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#æ·»åŠ é…ç½®-2" class="toc-sidebar-link">æ·»åŠ é…ç½®</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#nacos-æ§åˆ¶å°æ·»åŠ é…ç½®æ–‡ä»¶" class="toc-sidebar-link">Nacos æ§åˆ¶å°æ·»åŠ é…ç½®æ–‡ä»¶</a></li><li><a href="/passages/2021-07-27-spring-cloud-alibaba-nacos.html#è¯»å–-nacos-å˜é‡é…ç½®" class="toc-sidebar-link">è¯»å– Nacos å˜é‡é…ç½®</a></li></ul></li></ul></div></div></div></div></div> <div class="option-box"><a title="ç‚¹å‡»åˆ‡æ¢å…¨å±" style="text-align: center; padding-left: 2px;"><img src="/full.png" class="nozoom" style="pointer-events: none; width: 27px"> <span class="show-txt">å…¨å±çœ‹</span></a></div><div class="option-box"><a title="ç‚¹å‡»åˆ‡æ¢å…¨å±" style="text-align: center; padding-left: 2px;"><img src="/toggle.png" class="nozoom" style="pointer-events: none; width: 27px"> <span class="show-txt">ä¾§è¾¹æ </span></a></div><div class="option-box"><img src="/iphone.png" class="nozoom" style="pointer-events: none; width: 20px"> <span class="show-txt">æ‰‹æœºçœ‹</span> <div class="toc-container"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="max-height:550px"><img height="180px" src="https://api.qrserver.com/v1/create-qr-code/?data=https://blog.zenghr.cn/passages/2021-07-27-spring-cloud-alibaba-nacos.html" class="medium-zoom-image" style="margin: 10px;"></div></div></div></div><div class="option-box"><img src="/reward.png" class="nozoom" style="pointer-events: none; width: 20px"> <span class="show-txt">æ‰“èµ</span> <div class="toc-container"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="max-height:550px"><img height="180px" src="/wechat.jpg" class="medium-zoom-image" style="margin: 10px;"></div></div></div></div><div class="option-box"><a title="SpringCloud-Alibabaä»‹ç»" href="/passages/2021-07-27-spring-cloud-alibaba.html" style="text-align: center; padding-left: 2px;"><img src="/prev.png" class="nozoom" style="pointer-events: none; width: 27px"> <span class="show-txt">ä¸Šä¸€ç¯‡</span></a></div><div class="option-box"><a title="SpringCloud-OpenFeign" href="/passages/2021-09-02-spring-cloud-openfeign.html" style="text-align: center; padding-left: 2px;"><img src="/next.png" class="nozoom" style="pointer-events: none; width: 27px"> <span class="show-txt">ä¸‹ä¸€ç¯‡</span></a></div></div></aside> </main></div><div class="global-ui"><div class="my-loader center" style="display:none;" data-v-354e1a9e><div class="my-loader-circle" data-v-354e1a9e></div></div><div class="my-popup" style="display:none;" data-v-5f98aac3><div class="my-popup-container" data-v-5f98aac3><div class="my-popup-exit" data-v-5f98aac3></div> <img src="" alt data-v-5f98aac3></div></div><!----><!----><div></div><div class="container" data-v-0178ff65><canvas id="live2d" width="280" height="250" class="live2d-right" data-v-0178ff65></canvas></div></div></div>
    <script src="/assets/js/app.64d54db0.js" defer></script><script src="/assets/js/2.c07a442e.js" defer></script><script src="/assets/js/1.3405b27d.js" defer></script><script src="/assets/js/59.f70e5404.js" defer></script><script src="/assets/js/25.3d1d1e08.js" defer></script>
  </body>
</html>
