<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Activiti7 è¿›é˜¶ç¬”è®° | Zenghr</title>
    <meta name="generator" content="VuePress 1.9.10">
    <script type="text/javascript" src="/scripts/baidu-analytics.js" async=""></script>
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content=":::tip">
    <meta name="image" content="https://media.zenghr.cn/blog/img/20210722/ASn38W.png">
    <meta name="twitter:title" content="Activiti7 è¿›é˜¶ç¬”è®°">
    <meta name="twitter:description" content=":::tip">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://media.zenghr.cn/blog/img/20210722/ASn38W.png">
    <meta name="twitter:url" content="https://blog.zenghr.cn/passages/2021-07-22-activiti7-note-advanced.html">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Activiti7 è¿›é˜¶ç¬”è®°">
    <meta property="og:description" content=":::tip">
    <meta property="og:image" content="https://media.zenghr.cn/blog/img/20210722/ASn38W.png">
    <meta property="og:url" content="https://blog.zenghr.cn/passages/2021-07-22-activiti7-note-advanced.html">
    <meta property="article:author" content="zenghr">
    <meta property="article:published_time" content="2021-07-22 10:00">
    <meta itemprop="name" content="Activiti7 è¿›é˜¶ç¬”è®°">
    <meta itemprop="description" content=":::tip">
    <meta itemprop="image" content="https://media.zenghr.cn/blog/img/20210722/ASn38W.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="google-site-verification" content="YaZkTUj_yooTpG-N5B8hieXvHDRpHs7xfqTLvGl6nHs">
    
    <link rel="preload" href="/assets/css/0.styles.65ca67a0.css" as="style"><link rel="preload" href="/assets/js/app.3af5dc10.js" as="script"><link rel="preload" href="/assets/js/2.c07a442e.js" as="script"><link rel="preload" href="/assets/js/1.3405b27d.js" as="script"><link rel="preload" href="/assets/js/32.e81f1958.js" as="script"><link rel="preload" href="/assets/js/25.3d1d1e08.js" as="script"><link rel="prefetch" href="/assets/js/100.7ad44a8d.js"><link rel="prefetch" href="/assets/js/101.6941577a.js"><link rel="prefetch" href="/assets/js/102.481d41a3.js"><link rel="prefetch" href="/assets/js/103.864779b3.js"><link rel="prefetch" href="/assets/js/104.f79fb32f.js"><link rel="prefetch" href="/assets/js/11.8f9794bd.js"><link rel="prefetch" href="/assets/js/12.1c5ed29a.js"><link rel="prefetch" href="/assets/js/13.0ed82e2f.js"><link rel="prefetch" href="/assets/js/14.4ea01dba.js"><link rel="prefetch" href="/assets/js/15.fbe0894d.js"><link rel="prefetch" href="/assets/js/16.19a9d640.js"><link rel="prefetch" href="/assets/js/17.e489f696.js"><link rel="prefetch" href="/assets/js/18.139cd765.js"><link rel="prefetch" href="/assets/js/19.11000689.js"><link rel="prefetch" href="/assets/js/20.0318468f.js"><link rel="prefetch" href="/assets/js/21.517b7170.js"><link rel="prefetch" href="/assets/js/22.c4e44903.js"><link rel="prefetch" href="/assets/js/23.ac9d135d.js"><link rel="prefetch" href="/assets/js/24.20bd45a8.js"><link rel="prefetch" href="/assets/js/26.deba980a.js"><link rel="prefetch" href="/assets/js/27.33b632b3.js"><link rel="prefetch" href="/assets/js/28.7d4d9bd5.js"><link rel="prefetch" href="/assets/js/29.c5546eca.js"><link rel="prefetch" href="/assets/js/3.a4f61934.js"><link rel="prefetch" href="/assets/js/30.f9a5ef07.js"><link rel="prefetch" href="/assets/js/31.84934529.js"><link rel="prefetch" href="/assets/js/33.4fcb6313.js"><link rel="prefetch" href="/assets/js/34.c2a35c5d.js"><link rel="prefetch" href="/assets/js/35.eae52630.js"><link rel="prefetch" href="/assets/js/36.098c3f0b.js"><link rel="prefetch" href="/assets/js/37.af7c5e68.js"><link rel="prefetch" href="/assets/js/38.6254d9c8.js"><link rel="prefetch" href="/assets/js/39.ec233731.js"><link rel="prefetch" href="/assets/js/4.532f63f7.js"><link rel="prefetch" href="/assets/js/40.071f50e2.js"><link rel="prefetch" href="/assets/js/41.d29001b9.js"><link rel="prefetch" href="/assets/js/42.3d99210d.js"><link rel="prefetch" href="/assets/js/43.cec0f162.js"><link rel="prefetch" href="/assets/js/44.964feb1f.js"><link rel="prefetch" href="/assets/js/45.789a8501.js"><link rel="prefetch" href="/assets/js/46.ee01d34a.js"><link rel="prefetch" href="/assets/js/47.650a89b3.js"><link rel="prefetch" href="/assets/js/48.375c6c74.js"><link rel="prefetch" href="/assets/js/49.9d19a778.js"><link rel="prefetch" href="/assets/js/5.db15706f.js"><link rel="prefetch" href="/assets/js/50.03d48ac4.js"><link rel="prefetch" href="/assets/js/51.852f258f.js"><link rel="prefetch" href="/assets/js/52.abd5846b.js"><link rel="prefetch" href="/assets/js/53.6419ee4f.js"><link rel="prefetch" href="/assets/js/54.f764ba2d.js"><link rel="prefetch" href="/assets/js/55.5e5e2a5f.js"><link rel="prefetch" href="/assets/js/56.3c165b36.js"><link rel="prefetch" href="/assets/js/57.d495890f.js"><link rel="prefetch" href="/assets/js/58.023b87bb.js"><link rel="prefetch" href="/assets/js/59.f70e5404.js"><link rel="prefetch" href="/assets/js/6.78b0768f.js"><link rel="prefetch" href="/assets/js/60.35defa53.js"><link rel="prefetch" href="/assets/js/61.abcbd9d8.js"><link rel="prefetch" href="/assets/js/62.99e33701.js"><link rel="prefetch" href="/assets/js/63.151779c7.js"><link rel="prefetch" href="/assets/js/64.e4f55856.js"><link rel="prefetch" href="/assets/js/65.bf241838.js"><link rel="prefetch" href="/assets/js/66.ce48e90c.js"><link rel="prefetch" href="/assets/js/67.d7debb27.js"><link rel="prefetch" href="/assets/js/68.589cb6bd.js"><link rel="prefetch" href="/assets/js/69.79f318b2.js"><link rel="prefetch" href="/assets/js/7.e0df81bc.js"><link rel="prefetch" href="/assets/js/70.e9503608.js"><link rel="prefetch" href="/assets/js/71.4a814ab7.js"><link rel="prefetch" href="/assets/js/72.e15b5624.js"><link rel="prefetch" href="/assets/js/73.acb970bb.js"><link rel="prefetch" href="/assets/js/74.c322b654.js"><link rel="prefetch" href="/assets/js/75.fbec8e80.js"><link rel="prefetch" href="/assets/js/76.316cd05b.js"><link rel="prefetch" href="/assets/js/77.84ade49e.js"><link rel="prefetch" href="/assets/js/78.420c8ea6.js"><link rel="prefetch" href="/assets/js/79.831f2cfa.js"><link rel="prefetch" href="/assets/js/8.7d5c9344.js"><link rel="prefetch" href="/assets/js/80.0cd1a80d.js"><link rel="prefetch" href="/assets/js/81.621904a0.js"><link rel="prefetch" href="/assets/js/82.55c7cdd4.js"><link rel="prefetch" href="/assets/js/83.3969a698.js"><link rel="prefetch" href="/assets/js/84.f59a5f47.js"><link rel="prefetch" href="/assets/js/85.2e64bc43.js"><link rel="prefetch" href="/assets/js/86.e3bfaa31.js"><link rel="prefetch" href="/assets/js/87.0833dfd2.js"><link rel="prefetch" href="/assets/js/88.5d7c3c35.js"><link rel="prefetch" href="/assets/js/89.7d348c62.js"><link rel="prefetch" href="/assets/js/90.09cc0c91.js"><link rel="prefetch" href="/assets/js/91.81193723.js"><link rel="prefetch" href="/assets/js/92.a6f81ec4.js"><link rel="prefetch" href="/assets/js/93.8b167c96.js"><link rel="prefetch" href="/assets/js/94.1574109e.js"><link rel="prefetch" href="/assets/js/95.2e4d16a2.js"><link rel="prefetch" href="/assets/js/96.c0f3c282.js"><link rel="prefetch" href="/assets/js/97.366f0e7b.js"><link rel="prefetch" href="/assets/js/98.1582e7ac.js"><link rel="prefetch" href="/assets/js/99.4523d3fa.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.5e77459f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.65ca67a0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Zenghr</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link">
  æœ€æ–°
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java åŸºç¡€ä¸é¢å‘å¯¹è±¡</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-04-09-java-lan-basic.html" class="nav-link">
  Java åŸºç¡€çŸ¥è¯†
</a></li><li class="dropdown-subitem"><a href="/passages/2021-04-09-java-basic-oop.html" class="nav-link">
  Java é¢å‘å¯¹è±¡
</a></li></ul></li><li class="dropdown-item"><h4>Javaè¿›é˜¶ - é›†åˆæ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-04-25-java-collection-frame.html" class="nav-link">
  Java é›†åˆæ¡†æ¶
</a></li></ul></li><li class="dropdown-item"><h4>Javaè¿›é˜¶ - IOæ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-05-05-java-io-basic.html" class="nav-link">
  Java I/OçŸ¥è¯†è¯¦è§£
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring" class="dropdown-title"><span class="title">Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/2021-07-21-activiti7-note.html" class="nav-link">
  Activity7 ç³»åˆ—
</a></li><li class="dropdown-item"><!----> <a href="/passages/2021-08-18-springboot-argument-resolver.html" class="nav-link">
  SpringBoot ç³»åˆ—
</a></li><li class="dropdown-item"><!----> <a href="/passages/2021-07-27-spring-cloud-alibaba.html" class="nav-link">
  Spring Cloud åŸºç¡€
</a></li></ul></div></div><div class="nav-item"><a href="/passages/go-catalog.html" class="nav-link">
  Golang
</a></div><div class="nav-item"><a href="/passages/2020-08-12-kubernetes-deploy-ready.html" class="nav-link">
  Kubernetes
</a></div><div class="nav-item"><a href="/passages/2020-02-25-nginx-install.html" class="nav-link">
  Linuxç³»åˆ—
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¼€å‘ç¯å¢ƒ" class="dropdown-title"><span class="title">å¼€å‘ç¯å¢ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/tool-list-overview.html" class="nav-link">
  å¼€å‘å·¥å…·
</a></li><li class="dropdown-item"><!----> <a href="/passages/2021-06-28-git-common-cmd.html" class="nav-link">
  git ç¯å¢ƒ
</a></li><li class="dropdown-item"><h4>æ•°æ®åº“ç³»åˆ—</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-06-29-mysql-manage-auth.html" class="nav-link">
  mysql ç¯å¢ƒ
</a></li><li class="dropdown-subitem"><a href="/passages/2021-08-02-redis-overview.html" class="nav-link">
  Redis çŸ¥è¯†ä½“ç³»
</a></li><li class="dropdown-subitem"><a href="/passages/2021-08-15-mongo-overview.html" class="nav-link">
  Mongo çŸ¥è¯†ä½“ç³»
</a></li><li class="dropdown-subitem"><a href="/passages/2021-08-06-elasticsearch.html" class="nav-link">
  Elasticsearch çŸ¥è¯†ä½“ç³»
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¼€å‘æŒ‡å—" class="dropdown-title"><span class="title">å¼€å‘æŒ‡å—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/code-spec-alibaba.html" class="nav-link">
  ä»£ç è§„èŒƒ
</a></li><li class="dropdown-item"><!----> <a href="/passages/dev-pattern-overview.html" class="nav-link">
  è®¾è®¡æ¨¡å¼è¯¦è§£
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶å®ƒ" class="dropdown-title"><span class="title">å…¶å®ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/2020-01-18-first-blog.html" class="nav-link">
  ç”Ÿæ´»é—²è°ˆ
</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">
  å‹æƒ…é“¾æ¥
</a></li></ul></div></div> <a href="https://github.com/zenghr0820/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link">
  æœ€æ–°
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Java åŸºç¡€ä¸é¢å‘å¯¹è±¡</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-04-09-java-lan-basic.html" class="nav-link">
  Java åŸºç¡€çŸ¥è¯†
</a></li><li class="dropdown-subitem"><a href="/passages/2021-04-09-java-basic-oop.html" class="nav-link">
  Java é¢å‘å¯¹è±¡
</a></li></ul></li><li class="dropdown-item"><h4>Javaè¿›é˜¶ - é›†åˆæ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-04-25-java-collection-frame.html" class="nav-link">
  Java é›†åˆæ¡†æ¶
</a></li></ul></li><li class="dropdown-item"><h4>Javaè¿›é˜¶ - IOæ¡†æ¶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-05-05-java-io-basic.html" class="nav-link">
  Java I/OçŸ¥è¯†è¯¦è§£
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring" class="dropdown-title"><span class="title">Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/2021-07-21-activiti7-note.html" class="nav-link">
  Activity7 ç³»åˆ—
</a></li><li class="dropdown-item"><!----> <a href="/passages/2021-08-18-springboot-argument-resolver.html" class="nav-link">
  SpringBoot ç³»åˆ—
</a></li><li class="dropdown-item"><!----> <a href="/passages/2021-07-27-spring-cloud-alibaba.html" class="nav-link">
  Spring Cloud åŸºç¡€
</a></li></ul></div></div><div class="nav-item"><a href="/passages/go-catalog.html" class="nav-link">
  Golang
</a></div><div class="nav-item"><a href="/passages/2020-08-12-kubernetes-deploy-ready.html" class="nav-link">
  Kubernetes
</a></div><div class="nav-item"><a href="/passages/2020-02-25-nginx-install.html" class="nav-link">
  Linuxç³»åˆ—
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¼€å‘ç¯å¢ƒ" class="dropdown-title"><span class="title">å¼€å‘ç¯å¢ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/tool-list-overview.html" class="nav-link">
  å¼€å‘å·¥å…·
</a></li><li class="dropdown-item"><!----> <a href="/passages/2021-06-28-git-common-cmd.html" class="nav-link">
  git ç¯å¢ƒ
</a></li><li class="dropdown-item"><h4>æ•°æ®åº“ç³»åˆ—</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/2021-06-29-mysql-manage-auth.html" class="nav-link">
  mysql ç¯å¢ƒ
</a></li><li class="dropdown-subitem"><a href="/passages/2021-08-02-redis-overview.html" class="nav-link">
  Redis çŸ¥è¯†ä½“ç³»
</a></li><li class="dropdown-subitem"><a href="/passages/2021-08-15-mongo-overview.html" class="nav-link">
  Mongo çŸ¥è¯†ä½“ç³»
</a></li><li class="dropdown-subitem"><a href="/passages/2021-08-06-elasticsearch.html" class="nav-link">
  Elasticsearch çŸ¥è¯†ä½“ç³»
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¼€å‘æŒ‡å—" class="dropdown-title"><span class="title">å¼€å‘æŒ‡å—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/code-spec-alibaba.html" class="nav-link">
  ä»£ç è§„èŒƒ
</a></li><li class="dropdown-item"><!----> <a href="/passages/dev-pattern-overview.html" class="nav-link">
  è®¾è®¡æ¨¡å¼è¯¦è§£
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶å®ƒ" class="dropdown-title"><span class="title">å…¶å®ƒ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/2020-01-18-first-blog.html" class="nav-link">
  ç”Ÿæ´»é—²è°ˆ
</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">
  å‹æƒ…é“¾æ¥
</a></li></ul></div></div> <a href="https://github.com/zenghr0820/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Activiti7</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/passages/2021-07-21-activiti7-note.html" class="sidebar-link">Activity7-ç¬”è®°</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html" aria-current="page" class="active sidebar-link">Activiti7-è¿›é˜¶ç¬”è®°</a></li><li><a href="/passages/2021-07-22-activiti7-table-struct.html" class="sidebar-link">Activiti7-æ•°æ®è¡¨ç»“æ„</a></li><li><a href="/passages/2021-07-22-activiti7-error-note.html" class="sidebar-link">Activiti7-å¡«å‘ç¬”è®°</a></li><li><a href="/passages/2021-07-22-activiti7-common-api.html" class="sidebar-link">Activiti7-å¸¸ç”¨-Api</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="activiti7-è¿›é˜¶"><a href="#activiti7-è¿›é˜¶" class="header-anchor">#</a> Activiti7 è¿›é˜¶</h1> <div class="custom-block tip"><p>æ¶‰åŠ æµç¨‹å®šä¹‰ç›¸å…³ã€æµç¨‹å®ä¾‹ç›¸å…³ã€ä»»åŠ¡åˆ†é…ã€æµç¨‹å˜é‡ã€ä»»åŠ¡å€™é€‰äººã€ç½‘å…³ç­‰æ“ä½œ</p></div> <h2 id="æµç¨‹å®šä¹‰ç›¸å…³"><a href="#æµç¨‹å®šä¹‰ç›¸å…³" class="header-anchor">#</a> æµç¨‹å®šä¹‰ç›¸å…³</h2> <blockquote><p>æ¶‰åŠæµç¨‹å®šä¹‰ä¿¡æ¯æŸ¥è¯¢ã€åˆ é™¤ä»¥åŠå¯¹åº”çš„èµ„æºæŸ¥è¯¢ä¸‹è½½ç­‰æ“ä½œ</p></blockquote> <h3 id="æŸ¥è¯¢æµç¨‹å®šä¹‰"><a href="#æŸ¥è¯¢æµç¨‹å®šä¹‰" class="header-anchor">#</a> æŸ¥è¯¢æµç¨‹å®šä¹‰</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testDefinitionQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//åˆ›å»ºProcessEngineå¯¹è±¡</span>
    <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–ä»“åº“æœåŠ¡</span>
    <span class="token class-name">RepositoryService</span> repositoryService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getRepositoryService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–æµç¨‹å®šä¹‰é›†åˆ</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ProcessDefinition</span><span class="token punctuation">&gt;</span></span> processDefinitionList <span class="token operator">=</span> repositoryService
            <span class="token punctuation">.</span><span class="token function">createProcessDefinitionQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">processDefinitionKey</span><span class="token punctuation">(</span><span class="token string">&quot;leaveProcess&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//éå†é›†åˆ</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">ProcessDefinition</span> definition<span class="token operator">:</span>processDefinitionList<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®šä¹‰ID:&quot;</span><span class="token operator">+</span>definition<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®šä¹‰åç§°:&quot;</span><span class="token operator">+</span>definition<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®šä¹‰key:&quot;</span><span class="token operator">+</span>definition<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®šä¹‰ç‰ˆæœ¬:&quot;</span><span class="token operator">+</span>definition<span class="token punctuation">.</span><span class="token function">getVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹éƒ¨ç½²ID:&quot;</span><span class="token operator">+</span>definition<span class="token punctuation">.</span><span class="token function">getDeploymentId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;====================&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="åˆ é™¤æµç¨‹å®šä¹‰"><a href="#åˆ é™¤æµç¨‹å®šä¹‰" class="header-anchor">#</a> åˆ é™¤æµç¨‹å®šä¹‰</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testDeleteDeploy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//æµç¨‹éƒ¨ç½²Id</span>
    <span class="token class-name">String</span> deploymentId <span class="token operator">=</span> <span class="token string">&quot;10001&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//åˆ›å»ºProcessEngineå¯¹è±¡</span>
    <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–ä»“åº“æœåŠ¡</span>
    <span class="token class-name">RepositoryService</span> repositoryService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getRepositoryService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//åˆ é™¤æµç¨‹å®šä¹‰ï¼Œå¦‚æœè¯¥æµç¨‹å®šä¹‰å·²æœ‰æµç¨‹å®ä¾‹å¯åŠ¨åˆ™åˆ é™¤æ—¶å‡ºé”™</span>
    repositoryService<span class="token punctuation">.</span><span class="token function">deleteDeployment</span><span class="token punctuation">(</span>deploymentId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è®¾ç½®true çº§è”åˆ é™¤æµç¨‹å®šä¹‰ï¼Œå³ä½¿è¯¥æµç¨‹æœ‰æµç¨‹å®ä¾‹å¯åŠ¨ä¹Ÿå¯ä»¥åˆ é™¤ï¼Œè®¾ç½®ä¸ºfalseéçº§åˆ«åˆ é™¤æ–¹å¼ï¼Œå¦‚æœæµç¨‹</span>
    <span class="token comment">//repositoryService.deleteDeployment(deploymentId,true);</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¯´æ˜ï¼š</p> <ol><li><p>å¦‚æœè¯¥æµç¨‹å®šä¹‰ä¸‹æ²¡æœ‰æ­£åœ¨è¿è¡Œçš„æµç¨‹ï¼Œåˆ™å¯ä»¥ç”¨æ™®é€šåˆ é™¤</p></li> <li><p>å¦‚æœè¯¥æµç¨‹å®šä¹‰ä¸‹å­˜åœ¨å·²ç»è¿è¡Œçš„æµç¨‹ï¼Œä½¿ç”¨æ™®é€šåˆ é™¤æŠ¥é”™ï¼Œå¯ç”¨çº§è”åˆ é™¤æ–¹æ³•å°†æµç¨‹åŠç›¸å…³è®°å½•å…¨éƒ¨åˆ é™¤ã€‚</p></li> <li><p>é¡¹ç›®å¼€å‘ä¸­çº§è”åˆ é™¤æ“ä½œä¸€èˆ¬åªå¼€æ”¾ç»™è¶…çº§ç®¡ç†å‘˜ä½¿ç”¨.</p></li></ol> <h3 id="æµç¨‹èµ„æºä¸‹è½½"><a href="#æµç¨‹èµ„æºä¸‹è½½" class="header-anchor">#</a> æµç¨‹èµ„æºä¸‹è½½</h3> <blockquote><p>æˆ‘ä»¬çš„æµç¨‹èµ„æºæ–‡ä»¶å·²ç»ä¸Šä¼ åˆ°æ•°æ®åº“äº†ï¼Œå¦‚æœå…¶ä»–ç”¨æˆ·æƒ³è¦æŸ¥çœ‹è¿™äº›èµ„æºæ–‡ä»¶ï¼Œå¯ä»¥ä»æ•°æ®åº“ä¸­æŠŠèµ„æºæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testDownloadResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token comment">//åˆ›å»ºProcessEngineå¯¹è±¡</span>
    <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–ä»“åº“æœåŠ¡</span>
    <span class="token class-name">RepositoryService</span> repositoryService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getRepositoryService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–æµç¨‹å®šä¹‰é›†åˆ</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ProcessDefinition</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> repositoryService
            <span class="token punctuation">.</span><span class="token function">createProcessDefinitionQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">processDefinitionKey</span><span class="token punctuation">(</span><span class="token string">&quot;leaveProcess&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">orderByProcessDefinitionVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//æŒ‰ç…§ç‰ˆæœ¬æ’åº</span>
            <span class="token punctuation">.</span><span class="token function">desc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//é™åº</span>
            <span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–æœ€æ–°é‚£ä¸ª</span>
    <span class="token class-name">ProcessDefinition</span> definition <span class="token operator">=</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–éƒ¨ç½²ID</span>
    <span class="token class-name">String</span> deploymentId <span class="token operator">=</span> definition<span class="token punctuation">.</span><span class="token function">getDeploymentId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–bpmnçš„è¾“å…¥æµ</span>
    <span class="token class-name">InputStream</span> bpmnInput <span class="token operator">=</span> repositoryService<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>
                                        deploymentId<span class="token punctuation">,</span>
                                        definition<span class="token punctuation">.</span><span class="token function">getResourceName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–pngçš„è¾“å…¥æµ</span>
    <span class="token class-name">InputStream</span> pngInput <span class="token operator">=</span> repositoryService<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>
                                        deploymentId<span class="token punctuation">,</span>
                                        definition<span class="token punctuation">.</span><span class="token function">getDiagramResourceName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è®¾ç½®bpmnè¾“å…¥</span>
    <span class="token class-name">FileOutputStream</span> bpmnOutPut <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;D:/leave.bpmn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è®¾ç½®pngè¾“å…¥</span>
    <span class="token class-name">FileOutputStream</span> pngOutPut <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;D:/leave.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">IOUtils</span><span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>bpmnInput<span class="token punctuation">,</span>bpmnOutPut<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">IOUtils</span><span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>pngInput<span class="token punctuation">,</span>pngOutPut<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="æµç¨‹å®ä¾‹ç›¸å…³"><a href="#æµç¨‹å®ä¾‹ç›¸å…³" class="header-anchor">#</a> æµç¨‹å®ä¾‹ç›¸å…³</h2> <div class="custom-block tip"><p>æµç¨‹å‘èµ·ä¹‹åï¼Œç›®å‰è®¾å®šçš„éƒ¨é—¨å®¡æ‰¹äººéƒ½æ˜¯æå››ï¼Œæå››åœ¨å®¡æ‰¹ä¹‹å‰éœ€è¦çœ‹åˆ°ç”³è¯·äººç”³è¯·çš„æ—¶é—´å’Œç”³è¯·çš„ç†ç”±ï¼Œæ‰èƒ½å†³å®šæ˜¯å¦åŒæ„</p> <p>é‚£ä¹ˆç”³è¯·äººçš„è¯·å‡ä¿¡æ¯ã€è¯·å‡æ—¶é—´ã€è¯·å‡ç†ç”±ã€‘æ˜¯å¦‚ä½•ç»‘å®šåˆ°æµç¨‹ä¸­çš„å‘¢?</p> <p>æ­¤æ—¶å°±éœ€è¦ä½¿ç”¨åˆ°<code>BusinessKey</code></p></div> <h3 id="ä¸šåŠ¡æ ‡è¯†-businesskey"><a href="#ä¸šåŠ¡æ ‡è¯†-businesskey" class="header-anchor">#</a> ä¸šåŠ¡æ ‡è¯†ï¼ˆBusinessKeyï¼‰</h3> <ul><li>å¯åŠ¨æµç¨‹å®ä¾‹æ—¶ï¼ŒæŒ‡å®šçš„ <strong>businessKey</strong> å°±ä¼šåœ¨ <strong>act_run_execution</strong> è¡¨ä¸­å­˜å‚¨ businessKeyã€‚</li> <li><strong>BusinessKey</strong>ï¼šä¸šåŠ¡æ ‡è¯†ï¼Œé€šå¸¸ä¸ºä¸šåŠ¡è¡¨çš„ä¸»é”®ï¼Œä¸šåŠ¡æ ‡è¯†å’Œæµç¨‹å®ä¾‹ä¸€ä¸€å¯¹åº”ã€‚ä¸šåŠ¡æ ‡è¯†æ¥æºäºä¸šåŠ¡ç³»ç»Ÿã€‚å­˜å‚¨ä¸šåŠ¡æ ‡è¯†å°±æ˜¯æ ¹æ®ä¸šåŠ¡æ ‡è¯†æ¥å…³è”æŸ¥è¯¢ä¸šåŠ¡ç³»ç»Ÿçš„æ•°æ®ã€‚</li> <li>æ¯”å¦‚ï¼šè¯·å‡æµç¨‹å¯åŠ¨ä¸€ä¸ªæµç¨‹å®ä¾‹ï¼Œå°±å¯ä»¥å°†è¯·å‡å•çš„idä½œä¸ºä¸šåŠ¡æ ‡è¯†å­˜å‚¨åˆ°Activitiä¸­ï¼Œå°†æ¥æŸ¥è¯¢Activitiçš„æµç¨‹å®ä¾‹ä¿¡æ¯å°±å¯ä»¥è·å–è¯·å‡å•çš„idä»è€Œå…³è”æŸ¥è¯¢ä¸šåŠ¡ç³»ç»Ÿæ•°æ®åº“å¾—åˆ°è¯·å‡å•ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºğŸ‘‡</li></ul> <img src="https://media.zenghr.cn/blog/img/20210722/hTmP6C.png" alt="hTmP6C"> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testStartProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">String</span> businessKey <span class="token operator">=</span> <span class="token string">&quot;8001&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//åˆ›å»ºProcessEngineå¯¹è±¡</span>
    <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–RuntimeServiceå¯¹è±¡</span>
    <span class="token class-name">RuntimeService</span> runtimeService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getRuntimeService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è®¾ç½®å¯¹åº”çš„å‚æ•°</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> variables <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è®¾ç½®éƒ¨é—¨å®¡æ ¸äºº</span>
    variables<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;deptLeader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//æ ¹æ®æµç¨‹å®šä¹‰çš„keyå¯åŠ¨æµç¨‹å®ä¾‹,è¿™ä¸ªkeyæ˜¯åœ¨å®šä¹‰bpmnçš„æ—¶å€™è®¾ç½®çš„</span>
    <span class="token comment">//åœ¨å¯åŠ¨æµç¨‹çš„æ—¶å€™å°†ä¸šåŠ¡keyåŠ å…¥è¿›å»</span>
    <span class="token class-name">ProcessInstance</span> instance <span class="token operator">=</span> runtimeService
            <span class="token punctuation">.</span><span class="token function">startProcessInstanceByKey</span><span class="token punctuation">(</span><span class="token string">&quot;leaveProcess&quot;</span><span class="token punctuation">,</span> businessKey<span class="token punctuation">,</span> variables<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–æµç¨‹å®ä¾‹çš„ç›¸å…³ä¿¡æ¯</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®šä¹‰çš„id = &quot;</span> <span class="token operator">+</span> instance<span class="token punctuation">.</span><span class="token function">getProcessDefinitionId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®ä¾‹çš„id = &quot;</span> <span class="token operator">+</span> instance<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>è·å–<code>BusinessKey</code>å¹¶å…³è”å¯¹åº”çš„ä¸šåŠ¡ä¿¡æ¯</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//è·å–ä»»åŠ¡é›†åˆ</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Task</span><span class="token punctuation">&gt;</span></span> taskList <span class="token operator">=</span> taskService<span class="token punctuation">.</span><span class="token function">createTaskQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">processDefinitionKey</span><span class="token punctuation">(</span><span class="token string">&quot;leaveProcess&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">taskAssignee</span><span class="token punctuation">(</span>assignee<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//éå†ä»»åŠ¡åˆ—è¡¨</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Task</span> task<span class="token operator">:</span>taskList<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®šä¹‰id = &quot;</span> <span class="token operator">+</span> task<span class="token punctuation">.</span><span class="token function">getProcessDefinitionId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®ä¾‹id = &quot;</span> <span class="token operator">+</span> task<span class="token punctuation">.</span><span class="token function">getProcessInstanceId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä»»åŠ¡id = &quot;</span> <span class="token operator">+</span> task<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä»»åŠ¡åç§° = &quot;</span> <span class="token operator">+</span> task<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//æ ¹æ®ä»»åŠ¡ä¸Šçš„æµç¨‹å®ä¾‹IdæŸ¥è¯¢å‡ºå¯¹åº”çš„æµç¨‹å®ä¾‹å¯¹è±¡ï¼Œä»æµç¨‹å®ä¾‹å¯¹è±¡ä¸­è·å–BusinessKey</span>
  <span class="token class-name">ProcessInstance</span> instance <span class="token operator">=</span> runtimeService
    <span class="token punctuation">.</span><span class="token function">createProcessInstanceQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">processInstanceId</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span><span class="token function">getProcessInstanceId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">singleResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸šåŠ¡key:&quot;</span><span class="token operator">+</span>instance<span class="token punctuation">.</span><span class="token function">getBusinessKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;===================&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="æµç¨‹æŒ‚èµ·ã€æ¿€æ´»"><a href="#æµç¨‹æŒ‚èµ·ã€æ¿€æ´»" class="header-anchor">#</a> æµç¨‹æŒ‚èµ·ã€æ¿€æ´»</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSuspendAllProcessInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//åˆ›å»ºProcessEngineå¯¹è±¡</span>
    <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–RepositoryService</span>
    <span class="token class-name">RepositoryService</span> repositoryService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getRepositoryService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–æµç¨‹å®šä¹‰å¯¹è±¡</span>
    <span class="token class-name">ProcessDefinition</span> processDefinition <span class="token operator">=</span> repositoryService
            <span class="token punctuation">.</span><span class="token function">createProcessDefinitionQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">processDefinitionKey</span><span class="token punctuation">(</span><span class="token string">&quot;leaveProcess&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">singleResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">boolean</span> suspended <span class="token operator">=</span> processDefinition<span class="token punctuation">.</span><span class="token function">isSuspended</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è¾“å‡ºæµç¨‹å®šä¹‰çŠ¶æ€</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®šä¹‰çŠ¶æ€:&quot;</span><span class="token operator">+</span><span class="token punctuation">(</span>suspended <span class="token operator">?</span><span class="token string">&quot;å·²æŒ‚èµ·&quot;</span><span class="token operator">:</span><span class="token string">&quot;å·²æ¿€æ´»&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> processDefinitionId <span class="token operator">=</span> processDefinition<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>suspended<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//å¦‚æœæ˜¯æŒ‚èµ·ï¼Œå¯ä»¥æ‰§è¡Œæ¿€æ´»æ“ä½œ ,å‚æ•°1 ï¼šæµç¨‹å®šä¹‰id ï¼Œå‚æ•°2ï¼šæ˜¯å¦æ¿€æ´»æµç¨‹å®ä¾‹ï¼Œå‚æ•°3ï¼šæ¿€æ´»æ—¶é—´</span>
        repositoryService<span class="token punctuation">.</span><span class="token function">activateProcessDefinitionById</span><span class="token punctuation">(</span>processDefinitionId<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹ID:&quot;</span><span class="token operator">+</span>processDefinitionId<span class="token operator">+</span><span class="token string">&quot;,å·²æ¿€æ´»&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token comment">//å¦‚æœæ˜¯æ¿€æ´»ï¼Œå¯ä»¥æ‰§è¡ŒæŒ‚èµ·æ“ä½œ ,å‚æ•°1 ï¼šæµç¨‹å®šä¹‰id ï¼Œå‚æ•°2ï¼šæ˜¯å¦æš‚åœæµç¨‹å®ä¾‹ï¼Œå‚æ•°3ï¼šæ¿€æ´»æ—¶é—´</span>
        repositoryService<span class="token punctuation">.</span><span class="token function">suspendProcessDefinitionById</span><span class="token punctuation">(</span>processDefinitionId<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹ID:&quot;</span><span class="token operator">+</span>processDefinitionId<span class="token operator">+</span><span class="token string">&quot;,å·²æŒ‚èµ·&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>æ“ä½œæµç¨‹å®šä¹‰ä¸ºæŒ‚èµ·çŠ¶æ€ï¼Œè¯¥æ“ä½œå®šä¹‰ä¸‹é¢çš„æ‰€æœ‰çš„æµç¨‹å®ä¾‹å°†å…¨éƒ¨æš‚åœ</li> <li>æµç¨‹å®šä¹‰ä¸ºæŒ‚èµ·çŠ¶æ€ï¼Œè¯¥æµç¨‹å®šä¹‰ä¸‹å°†ä¸å…è®¸å¯åŠ¨æ–°çš„æµç¨‹å®ä¾‹ï¼ŒåŒæ—¶è¯¥æµç¨‹å®šä¹‰ä¸‹çš„æ‰€æœ‰æµç¨‹å®ä¾‹å°†å…¨éƒ¨æŒ‚èµ·æš‚åœæ‰§è¡Œ</li></ul> <p><strong>æµç¨‹å®ä¾‹æŒ‚èµ·ã€æ¿€æ´»</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSuspendSingleProcessInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//æµç¨‹å®ä¾‹Id</span>
    <span class="token class-name">String</span> processInstanceId <span class="token operator">=</span> <span class="token string">&quot;2501&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//åˆ›å»ºProcessEngineå¯¹è±¡</span>
    <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–RepositoryService</span>
    <span class="token class-name">RuntimeService</span> runtimeService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getRuntimeService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//æ ¹æ®æµç¨‹å®ä¾‹Idè·å–æµç¨‹å®ä¾‹å¯¹è±¡</span>
    <span class="token class-name">ProcessInstance</span> processInstance <span class="token operator">=</span> runtimeService
            <span class="token punctuation">.</span><span class="token function">createProcessInstanceQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">processInstanceId</span><span class="token punctuation">(</span>processInstanceId<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">singleResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//çŠ¶æ€</span>
    <span class="token keyword">boolean</span> suspended <span class="token operator">=</span> processInstance<span class="token punctuation">.</span><span class="token function">isSuspended</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®ä¾‹ID:&quot;</span><span class="token operator">+</span>processInstanceId<span class="token operator">+</span><span class="token string">&quot;,çŠ¶æ€:&quot;</span><span class="token operator">+</span> <span class="token punctuation">(</span>suspended<span class="token operator">?</span><span class="token string">&quot;å·²æŒ‚èµ·&quot;</span><span class="token operator">:</span><span class="token string">&quot;å·²æ¿€æ´»&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>suspended<span class="token punctuation">)</span><span class="token punctuation">{</span>
        runtimeService<span class="token punctuation">.</span><span class="token function">activateProcessInstanceById</span><span class="token punctuation">(</span>processInstanceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®ä¾‹ID:&quot;</span><span class="token operator">+</span>processInstanceId<span class="token operator">+</span><span class="token string">&quot;,çŠ¶æ€ä¿®æ”¹ä¸ºå·²æ¿€æ´»&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        runtimeService<span class="token punctuation">.</span><span class="token function">suspendProcessInstanceById</span><span class="token punctuation">(</span>processInstanceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®ä¾‹ID:&quot;</span><span class="token operator">+</span>processInstanceId<span class="token operator">+</span><span class="token string">&quot;,çŠ¶æ€ä¿®æ”¹ä¸ºå·²æŒ‚èµ·&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ä»»åŠ¡åˆ†é…è´Ÿè´£äºº"><a href="#ä»»åŠ¡åˆ†é…è´Ÿè´£äºº" class="header-anchor">#</a> ä»»åŠ¡åˆ†é…è´Ÿè´£äºº</h2> <h3 id="å›ºå®šåˆ†é…"><a href="#å›ºå®šåˆ†é…" class="header-anchor">#</a> å›ºå®šåˆ†é…</h3> <p>åœ¨è¿›è¡Œä¸šåŠ¡æµç¨‹å»ºæ¨¡çš„æ—¶å€™æŒ‡å®šå›ºå®šçš„ä»»åŠ¡è´Ÿè´£äºº</p> <p><img src="https://media.zenghr.cn/blog/img/20210722/ASn38W.png" alt="ASn38W"></p> <h3 id="uel-è¡¨è¾¾å¼åˆ†é…"><a href="#uel-è¡¨è¾¾å¼åˆ†é…" class="header-anchor">#</a> UEL è¡¨è¾¾å¼åˆ†é…</h3> <p>Activiti ä½¿ç”¨ UEL è¡¨è¾¾å¼ï¼Œ UEL æ˜¯ java EE6 è§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œ UELï¼ˆUnified Expression Languageï¼‰å³ ç»Ÿä¸€è¡¨è¾¾å¼è¯­è¨€</p> <p><img src="https://media.zenghr.cn/blog/img/20210722/posPxS.png" alt="posPxS"></p> <h3 id="ç›‘å¬å™¨åˆ†é…-ä½¿ç”¨éº»çƒ¦-æå°‘ä½¿ç”¨"><a href="#ç›‘å¬å™¨åˆ†é…-ä½¿ç”¨éº»çƒ¦-æå°‘ä½¿ç”¨" class="header-anchor">#</a> ç›‘å¬å™¨åˆ†é…(ä½¿ç”¨éº»çƒ¦,æå°‘ä½¿ç”¨)</h3> <ul><li>ä»»åŠ¡ç›‘å¬å™¨æ˜¯å‘ç”Ÿå¯¹åº”çš„ä»»åŠ¡ç›¸å…³äº‹ä»¶æ—¶æ‰§è¡Œè‡ªå®šä¹‰çš„Javaé€»è¾‘æˆ–è¡¨è¾¾å¼</li> <li>ä»»åŠ¡ç›¸å…³äº‹ä»¶åŒ…æ‹¬ï¼š
<ul><li><strong>Eventï¼š</strong> <ul><li>Createï¼šä»»åŠ¡åˆ›å»ºåè§¦å‘ã€‚</li> <li>Assignmentï¼šä»»åŠ¡åˆ†é…åè§¦å‘ã€‚</li> <li>Deleteï¼šä»»åŠ¡å®Œæˆåè§¦å‘ã€‚</li> <li>Allï¼šæ‰€æœ‰äº‹ä»¶å‘ç”Ÿéƒ½è§¦å‘ã€‚</li></ul></li></ul></li></ul> <p><strong>1. è‡ªå®šä¹‰ä¸€ä¸ªä»»åŠ¡ç›‘å¬å™¨ç±»ï¼Œç„¶åæ­¤ç±»å¿…é¡»å®ç°org.activiti.engine.delegate.TaskListeneræ¥å£</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyTaskListener</span> <span class="token keyword">implements</span> <span class="token class-name">TaskListener</span> <span class="token punctuation">{</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">notify</span><span class="token punctuation">(</span><span class="token class-name">DelegateTask</span> delegateTask<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//è¿™é‡ŒæŒ‡å®šä»»åŠ¡è´Ÿè´£äºº</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>delegateTask<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;éƒ¨é—¨ç»ç†å®¡æ‰¹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      delegateTask<span class="token punctuation">.</span><span class="token function">setAssignee</span><span class="token punctuation">(</span><span class="token string">&quot;èµµå…­&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>delegateTask<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;éƒ¨é—¨ç»ç†å®¡æ‰¹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      delegateTask<span class="token punctuation">.</span><span class="token function">setAssignee</span><span class="token punctuation">(</span><span class="token string">&quot;å­™ä¸ƒ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>2. åœ¨bpmnæ–‡ä»¶ä¸­é…ç½®ç›‘å¬å™¨</strong></p> <p><img src="https://media.zenghr.cn/blog/img/20210722/upZLYx.png" alt="upZLYx"></p> <h2 id="æµç¨‹å˜é‡"><a href="#æµç¨‹å˜é‡" class="header-anchor">#</a> æµç¨‹å˜é‡</h2> <div class="custom-block tip"><p>æµç¨‹å˜é‡åœ¨Activitiä¸­æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„è§’è‰²ï¼Œæµç¨‹è¿è½¬æœ‰æ—¶éœ€è¦é æµç¨‹å˜é‡ï¼Œä¸šåŠ¡ç³»ç»Ÿå’ŒActivitiç»“åˆæ—¶å°‘ä¸äº†æµç¨‹å˜é‡ï¼Œæµç¨‹å˜é‡å°±æ˜¯Activitiåœ¨ç®¡ç†å·¥ä½œæµæ—¶æ ¹æ®ç®¡ç†éœ€è¦è€Œè®¾ç½®çš„å˜é‡</p> <p>æ¯”å¦‚åœ¨è¯·å‡æµç¨‹æµè½¬æ—¶å¦‚æœ <strong>è¯·å‡å¤©æ•°&gt;3</strong> å¤©åˆ™æœ‰æ€»ç»ç†å®¡æ‰¹ï¼Œå¦åˆ™ç”±äººäº‹ç›´æ¥å®¡æ‰¹ï¼Œè¯·å‡å¤©æ•°å°±å¯ä»¥è®¾ç½®æµç¨‹å˜é‡ï¼Œåœ¨æµç¨‹æµè½¬æ—¶ä½¿ç”¨</p></div> <h3 id="æµç¨‹å˜é‡ç±»å‹"><a href="#æµç¨‹å˜é‡ç±»å‹" class="header-anchor">#</a> æµç¨‹å˜é‡ç±»å‹</h3> <p><img src="https://media.zenghr.cn/blog/img/20210722/JdYxvc.png" alt="JdYxvc"></p> <blockquote><p>æ³¨æ„ï¼šå¦‚æœå°†POJOå­˜å‚¨åˆ°æµç¨‹å˜é‡ä¸­ï¼Œå¿…é¡»å®ç°åºåˆ—åŒ–æ¥å£Serializableï¼Œä¸ºäº†é˜²æ­¢ç”±äºæ–°å¢å­—æ®µæ— æ³•ååºåˆ—åŒ–</p></blockquote> <h3 id="æµç¨‹å˜é‡çš„ä½œç”¨åŸŸ"><a href="#æµç¨‹å˜é‡çš„ä½œç”¨åŸŸ" class="header-anchor">#</a> æµç¨‹å˜é‡çš„ä½œç”¨åŸŸ</h3> <p>æµç¨‹å˜é‡çš„ä½œç”¨åŸŸèŒƒå›´å¯ä»¥æ˜¯ä¸€ä¸ªæµç¨‹å®ä¾‹ï¼ˆProcessInstanceï¼‰ã€ä¸€ä¸ªä»»åŠ¡ï¼ˆTaskï¼‰æˆ–ä¸€ä¸ªæ‰§è¡Œå®ä¾‹ï¼ˆExecutionï¼‰</p> <ul><li><strong>globalå˜é‡</strong> : æµç¨‹å˜é‡çš„ä½œç”¨åŸŸèŒƒå›´çš„é»˜è®¤å€¼æ˜¯æµç¨‹å®ä¾‹ï¼Œä½œç”¨åŸŸèŒƒå›´æœ€å¤§ã€‚</li> <li><strong>localå˜é‡</strong> : æµç¨‹å˜é‡çš„ä½œç”¨åŸŸèŒƒå›´å¦‚æœä»…ä»…é’ˆå¯¹ä¸€ä¸ªä»»åŠ¡æˆ–ä¸€ä¸ªæ‰§è¡Œå®ä¾‹ï¼Œé‚£ä¹ˆä½œç”¨åŸŸèŒƒå›´æ²¡æœ‰æµç¨‹å®ä¾‹å¤§</li></ul> <blockquote><p>å®é™…å¼€å‘ä¸­ä¸€èˆ¬ä¸ç”¨localå˜é‡ï¼Œäº†è§£å³å¯</p></blockquote> <h3 id="æµç¨‹å˜é‡çš„ä½¿ç”¨æ–¹æ³•"><a href="#æµç¨‹å˜é‡çš„ä½¿ç”¨æ–¹æ³•" class="header-anchor">#</a> æµç¨‹å˜é‡çš„ä½¿ç”¨æ–¹æ³•</h3> <ul><li><p><strong>åœ¨å±æ€§ä¸Šä½¿ç”¨UELè¡¨è¾¾å¼</strong></p> <p>å¯ä»¥åœ¨ assignee å¤„è®¾ç½® UEL è¡¨è¾¾å¼ï¼Œè¡¨è¾¾å¼çš„å€¼ä¸ºä»»åŠ¡çš„è´Ÿè´£äººï¼Œæ¯”å¦‚ï¼š <code>${assignee}ï¼Œ assignee</code> å°±æ˜¯ä¸€ä¸ªæµç¨‹å˜é‡åç§°ã€‚</p> <p>Activitiè·å– UELè¡¨è¾¾å¼ çš„å€¼ï¼Œå³æµç¨‹å˜é‡ assignee çš„å€¼ ï¼Œå°† assignee çš„å€¼ä½œä¸ºä»»åŠ¡çš„è´Ÿè´£äººè¿›è¡Œä»»åŠ¡åˆ†é…</p></li> <li><p><strong>åœ¨è¿çº¿ä¸Šä½¿ç”¨UELè¡¨è¾¾å¼</strong></p> <p>å¯ä»¥åœ¨è¿çº¿ä¸Šè®¾ç½®UELè¡¨è¾¾å¼ï¼Œå†³å®šæµç¨‹èµ°å‘ã€‚</p> <p>æ¯”å¦‚ï¼š<code>${price&lt;10000}</code> priceå°±æ˜¯ä¸€ä¸ªæµç¨‹å˜é‡åç§°ï¼Œuelè¡¨è¾¾å¼ç»“æœç±»å‹ä¸ºå¸ƒå°”ç±»å‹ã€‚</p> <p>å¦‚æœUELè¡¨è¾¾å¼æ˜¯trueï¼Œè¦å†³å®š æµç¨‹æ‰§è¡Œèµ°å‘</p></li></ul> <h3 id="ä½¿ç”¨globalå˜é‡æ§åˆ¶æµç¨‹"><a href="#ä½¿ç”¨globalå˜é‡æ§åˆ¶æµç¨‹" class="header-anchor">#</a> ä½¿ç”¨globalå˜é‡æ§åˆ¶æµç¨‹</h3> <p>åœ¨è¿çº¿å¤„æ·»åŠ åˆ¤æ–­æ¡ä»¶</p> <p><img src="https://media.zenghr.cn/blog/img/20210722/eI0vjg.png" alt="eI0vjg"></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testStartProcess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//åˆ›å»ºProcessEngineå¯¹è±¡</span>
    <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–RuntimeServiceå¯¹è±¡</span>
    <span class="token class-name">RuntimeService</span> runtimeService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getRuntimeService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> variables <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    variables<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;day&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//æ ¹æ®æµç¨‹å®šä¹‰çš„keyå¯åŠ¨æµç¨‹å®ä¾‹,è¿™ä¸ªkeyæ˜¯åœ¨å®šä¹‰bpmnçš„æ—¶å€™è®¾ç½®çš„</span>
    <span class="token class-name">ProcessInstance</span> instance <span class="token operator">=</span> runtimeService<span class="token punctuation">.</span><span class="token function">startProcessInstanceByKey</span><span class="token punctuation">(</span><span class="token string">&quot;leaveVariablesProcess&quot;</span><span class="token punctuation">,</span>variables<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–æµç¨‹å®ä¾‹çš„ç›¸å…³ä¿¡æ¯</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®šä¹‰çš„id = &quot;</span> <span class="token operator">+</span> instance<span class="token punctuation">.</span><span class="token function">getProcessDefinitionId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®ä¾‹çš„id = &quot;</span> <span class="token operator">+</span> instance<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="æ‰§è¡Œtask-è®¾ç½®æµç¨‹å˜é‡"><a href="#æ‰§è¡Œtask-è®¾ç½®æµç¨‹å˜é‡" class="header-anchor">#</a> æ‰§è¡Œtask è®¾ç½®æµç¨‹å˜é‡</h3> <p><strong><code>taskService.setVariable(taskId,variableName,variableValue)</code></strong></p> <ul><li><strong>taskId</strong> - ä»»åŠ¡ ID</li> <li><strong>variableName</strong> - å˜é‡åç§°</li> <li><strong>variableValue</strong> - å˜é‡å®é™…çš„å€¼</li></ul> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>1.å¦‚æœUELè¡¨è¾¾å¼ä¸­æµç¨‹å˜é‡åä¸å­˜åœ¨åˆ™æŠ¥é”™ã€‚
2.å¦‚æœå¦‚æœUELè¡¨è¾¾å¼éƒ½ä¸ç¬¦åˆæ¡ä»¶,æµç¨‹æŠ¥é”™ã€‚
3.å¦‚æœè¿æ¥ä¸è®¾ç½®æ¡ä»¶/æ¡ä»¶éƒ½æ»¡è¶³,æ¯ä¸ªè¿çº¿éƒ½ä¼šèµ°</p></div> <h2 id="ä»»åŠ¡å€™é€‰äºº"><a href="#ä»»åŠ¡å€™é€‰äºº" class="header-anchor">#</a> ä»»åŠ¡å€™é€‰äºº</h2> <p>åœ¨æµç¨‹å®šä¹‰ä¸­åœ¨ä»»åŠ¡ç»“ç‚¹çš„ assignee å›ºå®šè®¾ç½®ä»»åŠ¡è´Ÿè´£äººï¼Œåœ¨æµç¨‹å®šä¹‰æ—¶å°†å‚ä¸è€…å›ºå®šè®¾ç½®åœ¨.bpmn æ–‡ä»¶ä¸­ï¼Œå¦‚æœä¸´æ—¶ä»»åŠ¡è´Ÿè´£äººå˜æ›´åˆ™éœ€è¦ä¿®æ”¹æµç¨‹å®šä¹‰ï¼Œç³»ç»Ÿå¯æ‰©å±•æ€§å·®ã€‚</p> <p>é’ˆå¯¹è¿™ç§æƒ…å†µå¯ä»¥ç»™ä»»åŠ¡è®¾ç½®å¤šä¸ªå€™é€‰äººï¼Œå¯ä»¥ä»å€™é€‰äººä¸­é€‰æ‹©å‚ä¸è€…æ¥å®Œæˆä»»åŠ¡</p> <h3 id="è®¾ç½®ä»»åŠ¡å€™é€‰äºº"><a href="#è®¾ç½®ä»»åŠ¡å€™é€‰äºº" class="header-anchor">#</a> è®¾ç½®ä»»åŠ¡å€™é€‰äºº</h3> <p>åœ¨æµç¨‹å›¾ä¸­ä»»åŠ¡èŠ‚ç‚¹çš„é…ç½®ä¸­è®¾ç½® candidate-users(å€™é€‰äºº)ï¼Œå¤šä¸ªå€™é€‰äººä¹‹é—´ç”¨é€—å·åˆ†å¼€</p> <p><img src="https://media.zenghr.cn/blog/img/20210722/YywESD.png" alt="YywESD"></p> <p><strong>ä½¿ç”¨ Api è®¾ç½®å€™é€‰äºº</strong></p> <p><strong><code>taskService.addCandidateUser(taskId,candidateUser)</code></strong></p> <ul><li><strong>taskIdï¼š</strong> ä»»åŠ¡ Id</li> <li><strong>candidateUser:</strong> å€™é€‰äºº</li></ul> <h3 id="æŸ¥è¯¢å€™é€‰äººä»»åŠ¡"><a href="#æŸ¥è¯¢å€™é€‰äººä»»åŠ¡" class="header-anchor">#</a> æŸ¥è¯¢å€™é€‰äººä»»åŠ¡</h3> <div class="language-java {11, 14} extra-class"><pre class="language-java"><code><span class="token comment">//æŸ¥è¯¢å€™é€‰ä»»åŠ¡</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectCandidateTaskList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//ä»»åŠ¡è´Ÿè´£äºº</span>
    <span class="token class-name">String</span> candidateUser <span class="token operator">=</span> <span class="token string">&quot;æå››&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//åˆ›å»ºProcessEngineå¯¹è±¡</span>
    <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–TaskService</span>
    <span class="token class-name">TaskService</span> taskService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getTaskService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–ä»»åŠ¡é›†åˆ</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Task</span><span class="token punctuation">&gt;</span></span> taskList <span class="token operator">=</span> taskService<span class="token punctuation">.</span><span class="token function">createTaskQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">processDefinitionKey</span><span class="token punctuation">(</span><span class="token string">&quot;leaveCandidateProcess&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">taskCandidateUser</span><span class="token punctuation">(</span>candidateUser<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//éå†ä»»åŠ¡åˆ—è¡¨</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Task</span> task<span class="token operator">:</span>taskList<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®šä¹‰id = &quot;</span> <span class="token operator">+</span> task<span class="token punctuation">.</span><span class="token function">getProcessDefinitionId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµç¨‹å®ä¾‹id = &quot;</span> <span class="token operator">+</span> task<span class="token punctuation">.</span><span class="token function">getProcessInstanceId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä»»åŠ¡id = &quot;</span> <span class="token operator">+</span> task<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä»»åŠ¡åç§° = &quot;</span> <span class="token operator">+</span> task<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>æ³¨æ„ï¼šåœ¨ SpringBoot é›†æˆ Activiti7 ä¸­ï¼Œä½¿ç”¨è¯¥ Api æŸ¥è¯¢å€™é€‰äººæ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¼‚å¸¸è¯¦ç»†ä»¥åŠè§£å†³æ–¹æ¡ˆè¯·çœ‹ <a href="/passages/2021-07-22-activiti7-error-note.html">Activiti7 å¡«å‘ç¬”è®°</a></p></div> <h3 id="é¢†å–ã€å®Œæˆå€™é€‰äººä»»åŠ¡"><a href="#é¢†å–ã€å®Œæˆå€™é€‰äººä»»åŠ¡" class="header-anchor">#</a> é¢†å–ã€å®Œæˆå€™é€‰äººä»»åŠ¡</h3> <blockquote><p>å¦‚æœå€™é€‰ä»»åŠ¡æ²¡æœ‰è¿›è¡Œé¢†å–å°±ç›´æ¥å®Œæˆçš„è¯ï¼Œé‚£ä¹ˆåœ¨å†å²è®°å½•ä¸­å°±ä¸ä¼šè®°å½•æ˜¯å“ªä¸ªç”¨æˆ·æ‰§è¡Œäº†è¿™ä¸ªä»»åŠ¡</p> <p>æ‰€ä»¥å¯¹äºè¿™ç§å€™é€‰äººçš„ä»»åŠ¡ï¼Œæˆ‘ä»¬éœ€è¦å…ˆé¢†å–å†å®Œæˆ</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testClaimTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//ä»»åŠ¡ID</span>
    <span class="token class-name">String</span> taskId <span class="token operator">=</span> <span class="token string">&quot;2505&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> assignee <span class="token operator">=</span> <span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//åˆ›å»ºProcessEngineå¯¹è±¡</span>
    <span class="token class-name">ProcessEngine</span> processEngine <span class="token operator">=</span> <span class="token class-name">ProcessEngines</span><span class="token punctuation">.</span><span class="token function">getDefaultProcessEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//è·å–TaskService</span>
    <span class="token class-name">TaskService</span> taskService <span class="token operator">=</span> processEngine<span class="token punctuation">.</span><span class="token function">getTaskService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//é¢†å–ä»»åŠ¡</span>
    taskService<span class="token punctuation">.</span><span class="token function">claim</span><span class="token punctuation">(</span>taskId<span class="token punctuation">,</span>assignee<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å®Œæˆä»»åŠ¡</span>
  	taskService<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span>taskId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="ç½‘å…³ç›¸å…³"><a href="#ç½‘å…³ç›¸å…³" class="header-anchor">#</a> ç½‘å…³ç›¸å…³</h2> <h3 id="æ’ä»–ç½‘å…³"><a href="#æ’ä»–ç½‘å…³" class="header-anchor">#</a> æ’ä»–ç½‘å…³</h3> <p>æ’ä»–ç½‘å…³(ExclusiveGateway)ï¼ˆå¼‚æˆ–ç½‘å…³æˆ–åŸºäºæ•°æ®çš„æ’ä»–ç½‘å…³ï¼‰ï¼Œç”¨æ¥åœ¨æµç¨‹ä¸­å®ç°å†³ç­–ã€‚å½“æµç¨‹æ‰§è¡Œåˆ°è¿™ä¸ªç½‘å…³çš„æ—¶å€™ï¼Œæ‰€æœ‰åˆ†æ”¯éƒ½ä¼šåˆ¤æ–­æ¡ä»¶æ˜¯å¦ä¸ºtrueï¼Œå¦‚æœä¸ºtrueåˆ™æ‰§è¡Œè¯¥åˆ†æ”¯</p> <p><img src="https://media.zenghr.cn/blog/img/20210722/fdgdQz.png" alt="fdgdQz"></p> <h3 id="å¹¶è¡Œç½‘å…³"><a href="#å¹¶è¡Œç½‘å…³" class="header-anchor">#</a> å¹¶è¡Œç½‘å…³</h3> <p>å¹¶è¡Œç½‘å…³(InclusiveGateway)å…è®¸å°†æµç¨‹åˆ†æˆå¤šæ¡åˆ†æ”¯ï¼Œä¹Ÿå¯ä»¥æŠŠå¤šæ¡åˆ†æ”¯æ±‡èšåˆ°ä¸€èµ·ï¼Œå¹¶è¡Œç½‘å…³çš„åŠŸèƒ½æ˜¯åŸºäºè¿›å…¥å’Œå¤–å‡ºçš„é¡ºåºæµçš„</p> <blockquote><p>å¹¶è¡Œç½‘å…³ä¸ä¼šè§£ææ¡ä»¶ã€‚å³ä½¿é¡ºåºæµä¸­å®šä¹‰äº†æ¡ä»¶ï¼Œä¹Ÿä¼šè¢«å¿½ç•¥</p></blockquote> <p><img src="https://media.zenghr.cn/blog/img/20210722/J4KD0z.png" alt="J4KD0z"></p> <h3 id="åŒ…å«ç½‘å…³"><a href="#åŒ…å«ç½‘å…³" class="header-anchor">#</a> åŒ…å«ç½‘å…³</h3> <p>åŒ…å«ç½‘å…³å¯ä»¥çœ‹åšæ˜¯æ’ä»–ç½‘å…³å’Œå¹¶è¡Œç½‘å…³çš„ç»“åˆä½“</p> <p><img src="https://media.zenghr.cn/blog/img/20210722/bVI3wP.png" alt="bVI3wP"></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zenghr0820/blog/edit/master/docs/Activiti7/02.Activiti7-è¿›é˜¶ç¬”è®°.md" target="_blank" rel="noopener noreferrer">åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/passages/2021-07-21-activiti7-note.html" class="prev">
        Activity7-ç¬”è®°
      </a></span> <span class="next"><a href="/passages/2021-07-22-activiti7-table-struct.html">
        Activiti7-æ•°æ®è¡¨ç»“æ„
      </a>
      â†’
    </span></p></div> <aside class="page-sidebar"><div class="page-side-toolbar"><div class="option-box-toc-fixed"><div class="toc-container-sidebar"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="max-height:650px"><div style="font-weight:bold;text-align:center;">Activiti7 è¿›é˜¶ç¬”è®°</div> <hr> <div class="toc-box"><ul class="toc-sidebar-links"><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹å®šä¹‰ç›¸å…³" class="toc-sidebar-link">æµç¨‹å®šä¹‰ç›¸å…³</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æŸ¥è¯¢æµç¨‹å®šä¹‰" class="toc-sidebar-link">æŸ¥è¯¢æµç¨‹å®šä¹‰</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#åˆ é™¤æµç¨‹å®šä¹‰" class="toc-sidebar-link">åˆ é™¤æµç¨‹å®šä¹‰</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹èµ„æºä¸‹è½½" class="toc-sidebar-link">æµç¨‹èµ„æºä¸‹è½½</a></li></ul></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹å®ä¾‹ç›¸å…³" class="toc-sidebar-link">æµç¨‹å®ä¾‹ç›¸å…³</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#ä¸šåŠ¡æ ‡è¯†-businesskey" class="toc-sidebar-link">ä¸šåŠ¡æ ‡è¯†ï¼ˆBusinessKeyï¼‰</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹æŒ‚èµ·ã€æ¿€æ´»" class="toc-sidebar-link">æµç¨‹æŒ‚èµ·ã€æ¿€æ´»</a></li></ul></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#ä»»åŠ¡åˆ†é…è´Ÿè´£äºº" class="toc-sidebar-link">ä»»åŠ¡åˆ†é…è´Ÿè´£äºº</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#å›ºå®šåˆ†é…" class="toc-sidebar-link">å›ºå®šåˆ†é…</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#uel-è¡¨è¾¾å¼åˆ†é…" class="toc-sidebar-link">UEL è¡¨è¾¾å¼åˆ†é…</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#ç›‘å¬å™¨åˆ†é…-ä½¿ç”¨éº»çƒ¦-æå°‘ä½¿ç”¨" class="toc-sidebar-link">ç›‘å¬å™¨åˆ†é…(ä½¿ç”¨éº»çƒ¦,æå°‘ä½¿ç”¨)</a></li></ul></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹å˜é‡" class="toc-sidebar-link">æµç¨‹å˜é‡</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹å˜é‡ç±»å‹" class="toc-sidebar-link">æµç¨‹å˜é‡ç±»å‹</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹å˜é‡çš„ä½œç”¨åŸŸ" class="toc-sidebar-link">æµç¨‹å˜é‡çš„ä½œç”¨åŸŸ</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹å˜é‡çš„ä½¿ç”¨æ–¹æ³•" class="toc-sidebar-link">æµç¨‹å˜é‡çš„ä½¿ç”¨æ–¹æ³•</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#ä½¿ç”¨globalå˜é‡æ§åˆ¶æµç¨‹" class="toc-sidebar-link">ä½¿ç”¨globalå˜é‡æ§åˆ¶æµç¨‹</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æ‰§è¡Œtask-è®¾ç½®æµç¨‹å˜é‡" class="toc-sidebar-link">æ‰§è¡Œtask è®¾ç½®æµç¨‹å˜é‡</a></li></ul></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#ä»»åŠ¡å€™é€‰äºº" class="toc-sidebar-link">ä»»åŠ¡å€™é€‰äºº</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#è®¾ç½®ä»»åŠ¡å€™é€‰äºº" class="toc-sidebar-link">è®¾ç½®ä»»åŠ¡å€™é€‰äºº</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æŸ¥è¯¢å€™é€‰äººä»»åŠ¡" class="toc-sidebar-link">æŸ¥è¯¢å€™é€‰äººä»»åŠ¡</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#é¢†å–ã€å®Œæˆå€™é€‰äººä»»åŠ¡" class="toc-sidebar-link">é¢†å–ã€å®Œæˆå€™é€‰äººä»»åŠ¡</a></li></ul></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#ç½‘å…³ç›¸å…³" class="toc-sidebar-link">ç½‘å…³ç›¸å…³</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æ’ä»–ç½‘å…³" class="toc-sidebar-link">æ’ä»–ç½‘å…³</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#å¹¶è¡Œç½‘å…³" class="toc-sidebar-link">å¹¶è¡Œç½‘å…³</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#åŒ…å«ç½‘å…³" class="toc-sidebar-link">åŒ…å«ç½‘å…³</a></li></ul></li></ul></div></div></div></div></div> <div class="option-box option-box-toc-over"><img src="/toc.png" class="nozoom" style="pointer-events: none; width: 20px"> <span class="show-txt">ç›®å½•</span> <div class="toc-container"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="max-height:550px"><div style="font-weight:bold;text-align:center;">Activiti7 è¿›é˜¶ç¬”è®°</div> <hr> <div class="toc-box"><ul class="toc-sidebar-links"><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹å®šä¹‰ç›¸å…³" class="toc-sidebar-link">æµç¨‹å®šä¹‰ç›¸å…³</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æŸ¥è¯¢æµç¨‹å®šä¹‰" class="toc-sidebar-link">æŸ¥è¯¢æµç¨‹å®šä¹‰</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#åˆ é™¤æµç¨‹å®šä¹‰" class="toc-sidebar-link">åˆ é™¤æµç¨‹å®šä¹‰</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹èµ„æºä¸‹è½½" class="toc-sidebar-link">æµç¨‹èµ„æºä¸‹è½½</a></li></ul></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹å®ä¾‹ç›¸å…³" class="toc-sidebar-link">æµç¨‹å®ä¾‹ç›¸å…³</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#ä¸šåŠ¡æ ‡è¯†-businesskey" class="toc-sidebar-link">ä¸šåŠ¡æ ‡è¯†ï¼ˆBusinessKeyï¼‰</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹æŒ‚èµ·ã€æ¿€æ´»" class="toc-sidebar-link">æµç¨‹æŒ‚èµ·ã€æ¿€æ´»</a></li></ul></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#ä»»åŠ¡åˆ†é…è´Ÿè´£äºº" class="toc-sidebar-link">ä»»åŠ¡åˆ†é…è´Ÿè´£äºº</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#å›ºå®šåˆ†é…" class="toc-sidebar-link">å›ºå®šåˆ†é…</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#uel-è¡¨è¾¾å¼åˆ†é…" class="toc-sidebar-link">UEL è¡¨è¾¾å¼åˆ†é…</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#ç›‘å¬å™¨åˆ†é…-ä½¿ç”¨éº»çƒ¦-æå°‘ä½¿ç”¨" class="toc-sidebar-link">ç›‘å¬å™¨åˆ†é…(ä½¿ç”¨éº»çƒ¦,æå°‘ä½¿ç”¨)</a></li></ul></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹å˜é‡" class="toc-sidebar-link">æµç¨‹å˜é‡</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹å˜é‡ç±»å‹" class="toc-sidebar-link">æµç¨‹å˜é‡ç±»å‹</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹å˜é‡çš„ä½œç”¨åŸŸ" class="toc-sidebar-link">æµç¨‹å˜é‡çš„ä½œç”¨åŸŸ</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æµç¨‹å˜é‡çš„ä½¿ç”¨æ–¹æ³•" class="toc-sidebar-link">æµç¨‹å˜é‡çš„ä½¿ç”¨æ–¹æ³•</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#ä½¿ç”¨globalå˜é‡æ§åˆ¶æµç¨‹" class="toc-sidebar-link">ä½¿ç”¨globalå˜é‡æ§åˆ¶æµç¨‹</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æ‰§è¡Œtask-è®¾ç½®æµç¨‹å˜é‡" class="toc-sidebar-link">æ‰§è¡Œtask è®¾ç½®æµç¨‹å˜é‡</a></li></ul></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#ä»»åŠ¡å€™é€‰äºº" class="toc-sidebar-link">ä»»åŠ¡å€™é€‰äºº</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#è®¾ç½®ä»»åŠ¡å€™é€‰äºº" class="toc-sidebar-link">è®¾ç½®ä»»åŠ¡å€™é€‰äºº</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æŸ¥è¯¢å€™é€‰äººä»»åŠ¡" class="toc-sidebar-link">æŸ¥è¯¢å€™é€‰äººä»»åŠ¡</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#é¢†å–ã€å®Œæˆå€™é€‰äººä»»åŠ¡" class="toc-sidebar-link">é¢†å–ã€å®Œæˆå€™é€‰äººä»»åŠ¡</a></li></ul></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#ç½‘å…³ç›¸å…³" class="toc-sidebar-link">ç½‘å…³ç›¸å…³</a> <ul class="toc-sidebar-sub-headers"><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#æ’ä»–ç½‘å…³" class="toc-sidebar-link">æ’ä»–ç½‘å…³</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#å¹¶è¡Œç½‘å…³" class="toc-sidebar-link">å¹¶è¡Œç½‘å…³</a></li><li><a href="/passages/2021-07-22-activiti7-note-advanced.html#åŒ…å«ç½‘å…³" class="toc-sidebar-link">åŒ…å«ç½‘å…³</a></li></ul></li></ul></div></div></div></div></div> <div class="option-box"><a title="ç‚¹å‡»åˆ‡æ¢å…¨å±" style="text-align: center; padding-left: 2px;"><img src="/full.png" class="nozoom" style="pointer-events: none; width: 27px"> <span class="show-txt">å…¨å±çœ‹</span></a></div><div class="option-box"><a title="ç‚¹å‡»åˆ‡æ¢å…¨å±" style="text-align: center; padding-left: 2px;"><img src="/toggle.png" class="nozoom" style="pointer-events: none; width: 27px"> <span class="show-txt">ä¾§è¾¹æ </span></a></div><div class="option-box"><img src="/iphone.png" class="nozoom" style="pointer-events: none; width: 20px"> <span class="show-txt">æ‰‹æœºçœ‹</span> <div class="toc-container"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="max-height:550px"><img height="180px" src="https://api.qrserver.com/v1/create-qr-code/?data=https://blog.zenghr.cn/passages/2021-07-22-activiti7-note-advanced.html" class="medium-zoom-image" style="margin: 10px;"></div></div></div></div><div class="option-box"><img src="/reward.png" class="nozoom" style="pointer-events: none; width: 20px"> <span class="show-txt">æ‰“èµ</span> <div class="toc-container"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="max-height:550px"><img height="180px" src="/wechat.jpg" class="medium-zoom-image" style="margin: 10px;"></div></div></div></div><div class="option-box"><a title="Activity7-ç¬”è®°" href="/passages/2021-07-21-activiti7-note.html" style="text-align: center; padding-left: 2px;"><img src="/prev.png" class="nozoom" style="pointer-events: none; width: 27px"> <span class="show-txt">ä¸Šä¸€ç¯‡</span></a></div><div class="option-box"><a title="Activiti7-æ•°æ®è¡¨ç»“æ„" href="/passages/2021-07-22-activiti7-table-struct.html" style="text-align: center; padding-left: 2px;"><img src="/next.png" class="nozoom" style="pointer-events: none; width: 27px"> <span class="show-txt">ä¸‹ä¸€ç¯‡</span></a></div></div></aside> </main></div><div class="global-ui"><div class="my-loader center" style="display:none;" data-v-354e1a9e><div class="my-loader-circle" data-v-354e1a9e></div></div><div class="my-popup" style="display:none;" data-v-5f98aac3><div class="my-popup-container" data-v-5f98aac3><div class="my-popup-exit" data-v-5f98aac3></div> <img src="" alt data-v-5f98aac3></div></div><!----><!----><div></div><div class="container" data-v-0178ff65><canvas id="live2d" width="280" height="250" class="live2d-right" data-v-0178ff65></canvas></div></div></div>
    <script src="/assets/js/app.3af5dc10.js" defer></script><script src="/assets/js/2.c07a442e.js" defer></script><script src="/assets/js/1.3405b27d.js" defer></script><script src="/assets/js/32.e81f1958.js" defer></script><script src="/assets/js/25.3d1d1e08.js" defer></script>
  </body>
</html>
