---
title: "Java æ—¥æœŸæ—¶é—´ç±»"
date: "2021-04-19 16:30:00"
permalink: "2021-04-19-java-basic-date"
---

# Java æ—¥æœŸæ—¶é—´ç±»

:::tip

æœ¬æ–‡è®°å½•å­¦ä¹  Java æ—¥æœŸæ—¶é—´çš„ç›¸å…³ç±»ï¼Œè¿è¡Œç¯å¢ƒï¼š*jdk 1.8.0_212*

:::

## æ—¶é—´æˆ³(timestamp)æ¦‚å¿µ

å…·ä½“æ—¶é—´ï¼ˆç‰¹å®šçš„ç¬é—´ï¼‰è·ç¦»å†å…ƒ(1970å¹´01æœˆ01æ—¥ 00:00:00:000) ç»è¿‡çš„æ¯«ç§’æ•°ï¼Œç”¨longç±»å‹å­˜å‚¨ï¼Œè®¡ç®—æœºæ˜¯ä½¿ç”¨æ—¶é—´æˆ³å­˜å‚¨è¡¨ç¤ºæ—¶é—´



## Date ç±»

**Date ç±»** ä½äº *Java.util* åŒ…ä¸­ï¼Œç›´æ¥ç»§æ‰¿äº **Object**ï¼Œä½†æ˜¯ä» ***JDK 1.1 å¼€å§‹*** Dateç±»ä¸­å…³äº æ—¥æœŸæ—¶é—´æ“ä½œã€æ ¼å¼åŒ–å’Œè§£æå­—ç¬¦ä¸²æ—¶é—´çš„ ç›¸åº”æ–¹æ³•å·²ç»åºŸé™¤ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨ **Calendar** ç±»æ¥å®ç°æ—¥æœŸå’Œæ—¶é—´çš„è½¬æ¢æ“ä½œç­‰ï¼Œä½¿ç”¨ **DateFormat** ç±»æ¥æ ¼å¼åŒ–å’Œè§£æå­—ç¬¦ä¸² 

### å¸¸ç”¨æ–¹æ³•

- **Date()ï¼š** æ„é€ æ–¹æ³•
- **getTime()ï¼š** è·å–æ—¶é—´æˆ³
- **after()ï¼š** æµ‹è¯•æ­¤æ—¥æœŸæ˜¯å¦åœ¨æŒ‡å®šæ—¥æœŸä¹‹å
- **before()ï¼š** æµ‹è¯•æ­¤æ—¥æœŸæ˜¯å¦åœ¨æŒ‡å®šæ—¥æœŸä¹‹å‰



## SimpleDateFormat ç±»

**SimpleDateFormat ç±»** å°±æ˜¯ç”¨äºè§£æå’Œæ ¼å¼åŒ–æ—¶é—´çš„ç±»ï¼Œæ‰€ä»¥è¯¥ç±»ä¸»è¦åŒ…å«è¿™ä¸¤ä¸ªåŠŸèƒ½çš„æ–¹æ³•ï¼š

- **æ ¼å¼åŒ–(format)ï¼š** Dateç±»å‹çš„æ•°æ® æ ¹æ®ç›¸åº”çš„æ¨¡æ¿ æ ¼å¼åŒ–æˆ String å­—ç¬¦ä¸²
- **è§£æ(parse)ï¼š** String ç±»å‹çš„æ—¶é—´è½¬ æ ¹æ®ç›¸åº”çš„æ¨¡æ¿ è§£ææˆ Dateç±»å‹

æ— è®ºæ˜¯æ ¼å¼åŒ–è¿˜æ˜¯è§£æéƒ½éœ€è¦è®¾ç½®æ—¥æœŸæ—¶é—´çš„æ ¼å¼ï¼š

![mark](https://media.zenghr.cn/blog/img/20210419/yvUcGNvtRT1b.png?imageslim)

ä¾‹å­ğŸ‘‡

```java
yyyy-MM-dd					å¦‚ 2020-12-12
HH:mm:ss 					å¦‚ 20:12:12
yyyy-MM-dd HH:mm:ss 		å¦‚ 2020-12-12 20:12:12
yyyy/MM/dd HH:mm:ss 		å¦‚ 2020/12/12 20:12:12
yyyyå¹´MMæœˆddæ—¥ HHæ—¶mmåˆ†ssç§’ 	å¦‚ 2020å¹´12æœˆ12æ—¥ 20æ—¶12åˆ†12ç§’
```

ä»£ç å¦‚ä¸‹ğŸ‘‡

```java
import java.text.SimpleDateFormat;
import java.util.Date;

public class SimpleDateForMatExample {
    public static void main(String[] args) throws ParseException {
        // å®šä¹‰ Date æ—¶é—´
        Date date = new Date();
        // date to String
        SimpleDateFormat df = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
        String dateStr = df.format(date);
        System.out.println(dateStr);
        // è¾“å‡ºï¼š2021-04-19 17:17:56

        // String to date
        // æ³¨ï¼šè§£æ parse ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œéœ€è¦æ•è·æˆ–è€…æŠ›å‡º
        Date date1 = df.parse(dateStr);
        System.out.println(date1);
        // è¾“å‡ºï¼šMon Apr 19 17:17:56 CST 2021
    }
}
```

## Calendar ç±»

**Calendar ç±»** ä¹Ÿå«æ—¥å†ç±»ï¼Œå…¶å†…éƒ¨å°è£…äº†ä¸€ä¸ª long time è¡¨ç¤ºæ—¶é—´æˆ³ï¼Œå…¶å†…éƒ¨æä¾›äº†æ–¹æ³•é€šè¿‡å¯¹ **time** è®¡ç®—å‡º
å¹´æœˆæ—¥æ—¶åˆ†ç§’...ç­‰æ—¥å†å­—æ®µï¼Œè¿™äº›å­—æ®µéƒ½è¢«å­˜å‚¨åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œé€šè¿‡get(å­—æ®µ)å¯ä»¥å»æ•°ç»„ä¸­æå–å¯¹äºå­—
æ®µçš„å€¼

**Calendar** è¿˜æä¾›äº†ç”¨æ¥å¯¹æ—¥æœŸåšç›¸åŠ å‡ï¼Œé‡æ–°è®¾ç½®æ—¥æœŸæ—¶é—´åŠŸèƒ½ã€‚
**Calendar** æœ¬èº«æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œé€šè¿‡ **getInstance** æ–¹æ³•è·å–å¯¹è±¡ï¼Œå…¶åº•å±‚åˆ›å»ºçš„æ˜¯**Calendar**çš„å­ç±»å¯¹
è±¡ã€‚

### å¸¸ç”¨æ–¹æ³•

- **Calendar.getInstance()ï¼š** ç”¨äºå¿«é€Ÿæ„å»ºä¸€ä¸ª Calends å¯¹è±¡
- **get()ï¼š** æ–¹æ³• è·å– å¹´æœˆæ—¥ æ—¶åˆ†ç§’ç­‰
- **set()ï¼š** æ–¹æ³• ä¿®æ”¹ å¹´æœˆæ—¥ æ—¶åˆ†ç§’ç­‰
- **setTime()ï¼š** æ–¹æ³• å°†æ—¥å†è®¾ç½®æˆæƒ³è¦çš„æ—¶é—´
- **add()ï¼š** æ–¹æ³• å¯¹æ—¥æœŸè¿›è¡Œ å¢å‡æ“ä½œ
- **getTime()ï¼š** è¿”å› Date å®ä¾‹å¯¹è±¡

ä»£ç æ¡ˆä¾‹ğŸ‘‡

```java
// é€šè¿‡ getInstance æ–¹æ³•ï¼Œå¿«é€Ÿåˆ›å»ºå¯¹è±¡
Calendar cal = Calendar.getInstance();

// å¹´æœˆæ—¥
cal.get(Calendar.YEAR);
cal.get(Calendar.MONTH)
cal.get(Calendar.DATE);
// æ—¶åˆ†ç§’
cal.get(Calendar.HOUR); // 12 å°æ—¶åˆ¶
cal.get(Calendar.HOUR_OF_DAY); // 24 å°æ—¶åˆ¶
cal.get(Calendar.MINUTE);
cal.get(Calendar.SECOND);

// å¢å‡æ—¶é—´
cal.add(Calendar.YEAR, 1);
// ä½¿ç”¨ Calendar è®¾ç½®æ—¶é—´
cal.setTime(targetDate);
// è®¾ç½®æ—¶é—´
cal.set(Calendar.HOUR_OF_DAY, 23);
cal.set(Calendar.MINUTE, 59);
cal.set(Calendar.SECOND, 59);
// è¿”å› Date å¯¹è±¡
Date date = cal.getTime();
```



